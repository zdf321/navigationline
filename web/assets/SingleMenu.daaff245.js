var ve=Object.defineProperty,he=Object.defineProperties;var fe=Object.getOwnPropertyDescriptors;var te=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var ae=(n,a,e)=>a in n?ve(n,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[a]=e,oe=(n,a)=>{for(var e in a||(a={}))Fe.call(a,e)&&ae(n,e,a[e]);if(te)for(var e of te(a))ge.call(a,e)&&ae(n,e,a[e]);return n},ne=(n,a)=>he(n,fe(a));var M=(n,a,e)=>new Promise((_,p)=>{var i=h=>{try{B(e.next(h))}catch(E){p(E)}},v=h=>{try{B(e.throw(h))}catch(E){p(E)}},B=h=>h.done?_(h.value):Promise.resolve(h.value).then(i,v);B((e=e.apply(n,a)).next())});import{d as A,o as d,l as w,k as s,r as $,c as le,a as Z,g as m,y as se,z as re,i as o,w as l,f as C,j as k,t as G,h as R,m as Y,F as Q,B as ce,P as ie,_ as ee,E as N,am as $e,aq as we,ar as P,D as Ce,N as Ae,a3 as K,C as Ee}from"./index.96d3aca4.js";import{s as Be}from"./menuValueEnum.ea7dad60.js";import{b as X,_ as ue}from"./useEmitter.ba8e6a16.js";import{e as be,g as pe,h as xe,i as ze,j as Me,k as Se}from"./team.4e4308de.js";import{g as J}from"./form.8bf32b71.js";import{s as Ie}from"./search.33718158.js";import{_ as b}from"./plugin-vue_export-helper.41ffa612.js";import{M as ye}from"./menu.11f2eb8e.js";const Ve=A({name:"ArrowDown"}),De={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},He=s("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),ke=[He];function Re(n,a,e,_,p,i){return d(),w("svg",De,ke)}var Te=b(Ve,[["render",Re]]);const Ue=A({name:"Camera"}),Le={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Pe=s("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1),Ne=[Pe];function je(n,a,e,_,p,i){return d(),w("svg",Le,Ne)}var Oe=b(Ue,[["render",je]]);const We=A({name:"Connection"}),qe={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ge=s("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192h192z"},null,-1),Je=s("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192H384z"},null,-1),Ye=[Ge,Je];function Ke(n,a,e,_,p,i){return d(),w("svg",qe,Ye)}var Qe=b(We,[["render",Ke]]);const Xe=A({name:"Film"}),Ze={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},et=s("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),tt=s("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64h192z"},null,-1),at=[et,tt];function ot(n,a,e,_,p,i){return d(),w("svg",Ze,at)}var nt=b(Xe,[["render",ot]]);const ut=A({name:"Menu"}),lt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},st=s("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1),rt=[st];function ct(n,a,e,_,p,i){return d(),w("svg",lt,rt)}var it=b(ut,[["render",ct]]);const pt=A({name:"Money"}),dt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_t=s("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640h64z"},null,-1),mt=s("path",{fill:"currentColor",d:"M768 192H128v448h640V192zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"},null,-1),vt=s("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320zm0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),ht=[_t,mt,vt];function ft(n,a,e,_,p,i){return d(),w("svg",dt,ht)}var Ft=b(pt,[["render",ft]]);const gt=A({name:"Platform"}),$t={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},wt=s("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64h192zM128 704V128h768v576H128z"},null,-1),Ct=[wt];function At(n,a,e,_,p,i){return d(),w("svg",$t,Ct)}var Et=b(gt,[["render",At]]);const Bt=A({name:"Present"}),bt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},xt=s("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576h288zm64 0h288V320H544v256h288v64H544v256zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V256z"},null,-1),zt=s("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),Mt=s("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),St=s("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),It=[xt,zt,Mt,St];function yt(n,a,e,_,p,i){return d(),w("svg",bt,It)}var Vt=b(Bt,[["render",yt]]);const Dt=A({name:"School"}),Ht={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kt=s("path",{fill:"currentColor",d:"M224 128v704h576V128H224zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),Rt=s("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"},null,-1),Tt=s("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0v64zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192zM320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"},null,-1),Ut=[kt,Rt,Tt];function Lt(n,a,e,_,p,i){return d(),w("svg",Ht,Ut)}var Pt=b(Dt,[["render",Lt]]);const Nt=A({name:"ShoppingBag"}),jt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Ot=s("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320H704zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32h160zm64 0h256a128 128 0 1 0-256 0z"},null,-1),Wt=s("path",{fill:"currentColor",d:"M192 704h640v64H192z"},null,-1),qt=[Ot,Wt];function Gt(n,a,e,_,p,i){return d(),w("svg",jt,qt)}var Jt=b(Nt,[["render",Gt]]);const Yt=A({name:"Tools"}),Kt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Qt=s("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),Xt=[Qt];function Zt(n,a,e,_,p,i){return d(),w("svg",Kt,Xt)}var ea=b(Yt,[["render",Zt]]);function de(){const n=$([{role:"EDITOR",name:"\u53EF\u7F16\u8F91",desc:"\u53EF\u65B0\u5EFA\u3001\u7F16\u8F91\u3001\u4E0B\u8F7D\u3001\u79FB\u52A8"},{role:"READER",name:"\u53EF\u67E5\u770B",desc:"\u4EC5\u652F\u6301\u5728\u7EBF\u6D4F\u89C8"},{role:null,name:"\u7981\u6B62\u8BBF\u95EE",desc:"\u65E0\u6743\u8BBF\u95EE\u6B64\u7A7A\u95F4"}]),a=le({visible:!1,title:"\u6210\u5458\u6743\u9650",type:"add",spaceId:null});function e(p,i="\u6210\u5458\u6743\u9650",v="add"){a.type=v,a.title=i,a.visible=!0,a.spaceId=p}function _(p){p&&console.log("\u64CD\u4F5C\u6210\u529F\u540E..."),a.visible=!1}return{spaceRoleInfos:n,authData:a,handleAuthVisible:e,handleAuthRes:_}}const ta={class:"auth-form-container"},aa=["onClick"],oa={class:"auth-bth-first"},na={class:"auth-bth-second"},ua=A({__name:"AuthForm",props:{spaceId:{}},setup(n){const a=n,e=Z(),{spaceRoleInfos:_}=de(),p=$(!1),i=$(1),v=$(10),B=$(0),h=$(""),E=$({spaceId:a.spaceId,uid:"",role:""}),x=F=>{y()},S=F=>{y()},I=F=>F==="OWNER"||!z.value.hasAuthToManageSpace,L=$([]),z=$({teamRole:"",spaceRole:"",hasAuthToManageSpace:!1});function y(){return M(this,null,function*(){try{p.value=!0;const{rows:F,total:r}=yield be(i.value,v.value,a.spaceId,h.value);L.value=F,B.value=r}finally{p.value=!1}})}function j(){return M(this,null,function*(){const{data:F}=yield pe(e.getActiveTeamId,a.spaceId);z.value.teamRole=F.teamRole,z.value.spaceRole=F.spaceRole,z.value.hasAuthToManageSpace=F.hasAuthToManageSpace})}j(),y();function O(F,r){return M(this,null,function*(){if(F.role===r)return;E.value.uid=F.uid,E.value.role=r;const t=J(E.value),{data:u}=yield xe(t);N.success("\u8BBE\u7F6E\u6210\u529F"),F.role=r,F.joinTime=(u==null?void 0:u.joinTime)||null})}return(F,r)=>{const t=m("el-table-column"),u=m("el-input"),g=m("el-icon"),W=m("el-button"),V=m("el-popover"),q=m("el-table"),T=m("el-pagination"),D=se("loading");return re((d(),w("div",ta,[o(q,{data:L.value,"empty-text":"\u65E0\u6570\u636E",height:"500",class:"auth-table"},{default:l(()=>[o(t,{prop:"nickname",label:"\u6210\u5458"}),o(t,{prop:"teamNickname",label:"\u56E2\u961F\u6635\u79F0"}),o(t,{prop:"joinTime",label:"\u52A0\u5165\u65F6\u95F4"}),o(t,{width:"160",align:"right"},{header:l(()=>[o(u,{modelValue:h.value,"onUpdate:modelValue":r[0]||(r[0]=f=>h.value=f),placeholder:"\u641C\u7D22\u6210\u5458","prefix-icon":C(Ie),clearable:"",onInput:r[1]||(r[1]=f=>y())},null,8,["modelValue","prefix-icon"])]),default:l(f=>[o(V,{placement:"bottom",width:180,trigger:"click","popper-class":"auth-popper",disabled:I(f.row.role)},{reference:l(()=>[o(W,{link:""},{default:l(()=>[k(G(f.row.role==="OWNER"?"\u62E5\u6709\u8005":f.row.role==="EDITOR"?"\u53EF\u7F16\u8F91":f.row.role==="READER"?"\u53EF\u67E5\u770B":"\u7981\u6B62\u8BBF\u95EE")+" ",1),o(g,{class:"el-icon--right"},{default:l(()=>[I(f.row.role)?Y("",!0):(d(),R(C(Te),{key:0}))]),_:2},1024)]),_:2},1024)]),default:l(()=>[(d(!0),w(Q,null,ce(C(_),c=>(d(),w("div",{class:ie(["mb-2","auth-btn",{"auth-btn-active":f.row.role==c.role}]),key:c.name,onClick:H=>O(f.row,c.role)},[s("div",oa,G(c.name),1),s("div",na,G(c.desc),1)],10,aa))),128))]),_:2},1032,["disabled"])]),_:1})]),_:1},8,["data"]),o(T,{"current-page":i.value,"onUpdate:currentPage":r[2]||(r[2]=f=>i.value=f),"page-size":v.value,"onUpdate:pageSize":r[3]||(r[3]=f=>v.value=f),background:"","page-sizes":[10,20,30,40,50],layout:"->, total, sizes, prev, pager, next",total:B.value,"pager-count":5,onSizeChange:x,onCurrentChange:S},null,8,["current-page","page-size","total"])])),[[D,p.value]])}}});var la=ee(ua,[["__scopeId","data-v-0c811f76"]]);const sa={class:"set-container"},ra={class:"flex justify-end mt-10"},ca={style:{padding:"10px"}},ia={style:{"font-size":"13px",color:"#9aa5b8","margin-bottom":"10px"}},pa={style:{color:"#F56C6C"}},da={style:{display:"flex",gap:"10px"}},_a=A({__name:"SetForm",props:{spaceItem:{}},emits:["formResponse"],setup(n,{emit:a}){const e=n,_=Z(),p=a,i=$(),v=$({name:e.spaceItem.text,desc:e.spaceItem.desc,spaceId:e.spaceItem.spaceId,logoUrl:e.spaceItem.logoUrl}),B=$(!1),h=$(""),E=$(e.spaceItem.text||""),x=$(!1),S=`${$e.publicApi}/api/v1/file/uploadSpaceLogo`;function I(){i.value.validate(r=>{r&&j()})}function L(){p("formResponse",!1)}function z(r){v.value.logoUrl=r.data,x.value=!1}function y(r){x.value=!0;const t=r.size/1024/1024<2;return t||N.error("\u56FE\u7247\u4E0D\u80FD\u8D85\u8FC72MB!"),t}function j(){return M(this,null,function*(){const r=J(v.value),{data:t}=yield ze(r);t&&(X("handleUpdateTeamSpaceList"),N.success("\u8BBE\u7F6E\u6210\u529F"),E.value=v.value.name)})}function O(){return M(this,null,function*(){let r={spaceId:e.spaceItem.spaceId,showWatermark:B.value};const t=J(r),{data:u}=yield Me(t);u&&N.success("\u8BBE\u7F6E\u6210\u529F")})}function F(){return M(this,null,function*(){if(!h.value){N.error("\u8BF7\u8F93\u5165\u7A7A\u95F4\u540D\u79F0");return}we({title:"\u5220\u9664\u7A7A\u95F4\uFF1F",message:P("p",null,[P("p",null,[P("span",null,"\u5220\u9664 "),P("i",null,[P("b",null,`${E.value}`)]),P("span",null," \u7A7A\u95F4\u540E\uFF0C\u8BE5\u7A7A\u95F4\u4E0B\u7684\u6240\u6709\u6570\u636E\u90FD\u5C06\u88AB\u540C\u6B65\u5220\u9664\uFF0C\u4E14\u4E0D\u53EF\u6062\u590D\uFF01")])]),showCancelButton:!0,cancelButtonText:"\u53D6\u6D88",confirmButtonText:"\u786E\u8BA4",draggable:!0,beforeClose:(r,t,u)=>{r==="confirm"?(t.confirmButtonLoading=!0,t.confirmButtonText="Loading...",setTimeout(()=>{u(),setTimeout(()=>{t.confirmButtonLoading=!1},300)},300)):u()}}).then(()=>M(this,null,function*(){let r={spaceId:e.spaceItem.spaceId,name:h.value};const t=J(r),{data:u}=yield Se(t);u&&(_.getActiveMenu.spaceId==e.spaceItem.spaceId&&_.setActiveMenu(ye),X("handleUpdateTeamSpaceList"),N.success("\u5220\u9664\u6210\u529F"),p("formResponse",!0))}))})}return(r,t)=>{const u=m("el-input"),g=m("ElFormItem"),W=m("SvgIcon"),V=m("el-image"),q=m("el-upload"),T=m("el-button"),D=m("ElForm"),f=m("el-tab-pane"),c=m("el-switch"),H=m("el-form-item"),_e=m("el-tabs"),me=se("loading");return d(),w("div",sa,[o(_e,{"tab-position":"left"},{default:l(()=>[o(f,{label:"\u57FA\u672C\u4FE1\u606F"},{default:l(()=>[o(D,{ref_key:"infoFormRef",ref:i,model:v.value,"label-position":"top","label-width":"100px",size:"large",class:"login-basic-form"},{default:l(()=>[o(g,{prop:"name",label:"\u7A7A\u95F4\u540D\u79F0",rules:[{required:!0,message:"\u7A7A\u95F4\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}]},{default:l(()=>[o(u,{modelValue:v.value.name,"onUpdate:modelValue":t[0]||(t[0]=U=>v.value.name=U),placeholder:"\u8BF7\u8F93\u5165\u7A7A\u95F4\u540D\u79F0",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),o(g,{prop:"name",label:"\u7A7A\u95F4\u56FE\u6807",class:"logo-image"},{default:l(()=>[re((d(),R(q,{class:"avatar-uploader",action:S+"?spaceId="+v.value.spaceId,"show-file-list":!1,accept:".jpg,.jpeg,.png,.JPG,.JPEG","on-success":z,"before-upload":y},{default:l(()=>[o(V,{style:{width:"40px",height:"40px"},src:v.value.logoUrl},{error:l(()=>[o(W,{name:r.spaceItem.icon,size:40},null,8,["name"])]),_:1},8,["src"])]),_:1},8,["action"])),[[me,x.value]])]),_:1}),o(g,{prop:"desc",label:"\u7A7A\u95F4\u63CF\u8FF0"},{default:l(()=>[o(u,{modelValue:v.value.desc,"onUpdate:modelValue":t[1]||(t[1]=U=>v.value.desc=U),placeholder:"\u8BF7\u8F93\u5165\u7A7A\u95F4\u63CF\u8FF0",type:"textarea",clearable:"",rows:"4",resize:"none",maxlength:"128","show-word-limit":""},null,8,["modelValue"])]),_:1}),s("div",ra,[o(T,{type:"primary",onClick:I},{default:l(()=>t[4]||(t[4]=[k("\u786E\u5B9A")])),_:1}),o(T,{onClick:L},{default:l(()=>t[5]||(t[5]=[k("\u53D6\u6D88")])),_:1})])]),_:1},8,["model"])]),_:1}),o(f,{label:"\u5B89\u5168\u8BBE\u7F6E"},{default:l(()=>[o(D,{ref:"ruleFormRef","label-position":"top","label-width":"100px",size:"large",class:"login-basic-form"},{default:l(()=>[o(g,{prop:"name",label:"\u663E\u793A\u6C34\u5370"},{default:l(()=>[o(H,null,{default:l(()=>[o(c,{modelValue:B.value,"onUpdate:modelValue":t[2]||(t[2]=U=>B.value=U),size:"small",onChange:O},null,8,["modelValue"]),t[6]||(t[6]=k("\xA0\xA0\u8BBF\u95EE\u6C34\u5370(\u529F\u80FD\u6D4B\u8BD5\u4E2D) ")),t[7]||(t[7]=s("div",{style:{"line-height":"20px","margin-left":"40px","font-size":"13px",color:"#9aa5b8"}},"\u52FE\u9009\u540E\uFF0C\u8BBF\u95EE\u7A7A\u95F4\u65F6\u4F1A\u663E\u793A\u5F53\u524D\u8BBF\u5BA2\u59D3\u540D\u548Cnavigationline\u8D26\u53F7ID\u540E6\u4F4D\uFF0C\u9632\u6B62\u7528\u6237\u622A\u5C4F\u6216\u62CD\u7167\u6CC4\u5BC6\u3002",-1))]),_:1})]),_:1})]),_:1},512)]),_:1}),e.spaceItem.spaceType!=="PUBLIC"?(d(),R(f,{key:0,label:"\u5220\u9664\u7A7A\u95F4"},{default:l(()=>[s("div",ca,[s("div",ia,[t[8]||(t[8]=k(" \u7A7A\u95F4\uFF1A")),s("b",pa,G(E.value),1),t[9]||(t[9]=k(" \u5C06\u88AB\u89E3\u6563\uFF0C\u76F8\u5173\u7684\u4FE1\u606F\u5C06\u4F1A\u88AB\u6C38\u4E45\u5220\u9664\u3002\u8FD9\u662F\u4E00\u4E2A\u4E0D\u53EF\u6062\u590D\u7684\u64CD\u4F5C\uFF0C\u8BF7\u8C28\u614E\u5BF9\u5F85\uFF01 "))]),s("div",da,[o(u,{modelValue:h.value,"onUpdate:modelValue":t[3]||(t[3]=U=>h.value=U),modelModifiers:{trim:!0},size:"large",placeholder:"\u8BF7\u8F93\u5165\u5F53\u524D\u7A7A\u95F4\u540D\u79F0\u8FDB\u884C\u5220\u9664"},null,8,["modelValue"]),o(T,{size:"large",type:"danger",onClick:F},{default:l(()=>t[10]||(t[10]=[k("\u5220\u9664\u7A7A\u95F4")])),_:1})])])]),_:1})):Y("",!0)]),_:1})])}}});var ma=ee(_a,[["__scopeId","data-v-62c72964"]]);function va(){const n=le({visible:!1,title:"\u7A7A\u95F4\u8BBE\u7F6E",type:"add",spaceItem:{}});function a(_,p="\u7A7A\u95F4\u8BBE\u7F6E",i="add"){n.type=i,n.title=p,n.visible=!0,n.spaceItem=_}function e(_){_&&console.log("\u64CD\u4F5C\u6210\u529F\u540E..."),n.visible=!1}return{setData:n,handleSetVisible:a,handleSetRes:e}}const ha={class:"single-menu-container"},fa=["onClick","onMouseenter","onMouseleave"],Fa={class:"menu-item-text"},ga=A({components:{Camera:Oe,Platform:Et,ShoppingBag:Jt,Money:Ft,Menu:it,School:Pt,Tools:ea,Film:nt,Connection:Qe,Present:Vt}}),$a=A(ne(oe({},ga),{__name:"SingleMenu",props:{menus:{},elIcon:{type:Boolean},defaultValue:{},defaultSpaceId:{}},emits:["handleChange"],setup(n,{emit:a}){const{authData:e,handleAuthVisible:_,handleAuthRes:p}=de(),{setData:i,handleSetVisible:v,handleSetRes:B}=va(),h=n,E=a,x=$(""),S=$(""),I=$(!1),L=Z(),z=$({uid:"",teamRole:""});Ce(()=>{x.value=h.defaultValue,S.value=h.defaultSpaceId});function y(u){x.value===u.value&&S.value===u.spaceId&&X("handleUpdateListByPid","root"),x.value=u.value,S.value=u.spaceId,E("handleChange",u)}function j(u){u.showMenu=!0}function O(u){I.value||(u.showMenu=!1)}function F(){I.value=!0}function r(u){u.showMenu=!1,I.value=!1}function t(){return M(this,null,function*(){const{data:u}=yield pe(L.getActiveTeamId);z.value.teamRole=u.teamRole,z.value.uid=u.uid})}return t(),(u,g)=>{const W=m("el-icon"),V=m("SvgIcon"),q=m("el-image"),T=m("el-tag"),D=m("el-button"),f=m("el-popover");return d(),w(Q,null,[s("div",ha,[(d(!0),w(Q,null,ce(h.menus,c=>(d(),w("div",{class:ie(["single-menu-item",{active:x.value===c.value&&S.value===c.spaceId}]),style:Ae(`font-size:${c.size||14}px`),key:c.text,onClick:H=>y(c),onMouseenter:K(H=>j(c),["stop","prevent"]),onMouseleave:K(H=>O(c),["stop","prevent"])},[u.elIcon?(d(),R(W,{key:0,size:c.size||16},{default:l(()=>[(d(),R(Ee(c.icon)))]),_:2},1032,["size"])):(d(),R(q,{key:1,style:{width:"16px",height:"16px"},src:c.logoUrl},{error:l(()=>[o(V,{name:c.icon,size:c.size||16},null,8,["name","size"])]),_:2},1032,["src"])),s("span",Fa,G(c.text),1),c.spaceType==="PUBLIC"?(d(),R(T,{key:2,class:"ml-1",size:"small"},{default:l(()=>g[3]||(g[3]=[k("\u5168\u5458")])),_:1})):Y("",!0),c.showMenu&&C(Be).includes(c.value)&&["OWNER","ADMIN"].includes(z.value.teamRole)?(d(),R(f,{key:3,placement:"bottom",width:60,trigger:"click",onShow:F,onHide:H=>r(c),"popper-class":"menu-popover"},{reference:l(()=>[o(D,{link:"",style:{"margin-left":"auto",height:"0px"},onClick:g[0]||(g[0]=K(()=>{},["stop"]))},{default:l(()=>[o(V,{name:"menu-more"})]),_:1})]),default:l(()=>[o(D,{text:"",style:{width:"100%"},onClick:H=>C(_)(c.spaceId)},{default:l(()=>[o(V,{name:"menu-auth"}),g[4]||(g[4]=s("span",null,"\xA0\u6210\u5458\u6743\u9650",-1))]),_:2},1032,["onClick"]),o(D,{text:"",style:{"margin-left":"0px",width:"100%"},onClick:H=>C(v)(c)},{default:l(()=>[o(V,{name:"menu-setting"}),g[5]||(g[5]=s("span",null,"\xA0\u7A7A\u95F4\u8BBE\u7F6E",-1))]),_:2},1032,["onClick"])]),_:2},1032,["onHide"])):Y("",!0)],46,fa))),128))]),o(ue,{visible:C(e).visible,"onUpdate:visible":g[1]||(g[1]=c=>C(e).visible=c),width:"700px",title:C(e).title,footer:!1},{default:l(()=>[o(la,{spaceId:C(e).spaceId,key:"edit-auth"},null,8,["spaceId"])]),_:1},8,["visible","title"]),o(ue,{visible:C(i).visible,"onUpdate:visible":g[2]||(g[2]=c=>C(i).visible=c),width:"600px",title:C(i).title,footer:!1},{default:l(()=>[o(ma,{spaceItem:C(i).spaceItem,onFormResponse:C(B),key:"edit-auth"},null,8,["spaceItem","onFormResponse"])]),_:1},8,["visible","title"])],64)}}}));var Sa=ee($a,[["__scopeId","data-v-409a10aa"]]);export{Sa as S,Te as a,ea as t,de as u};
//# sourceMappingURL=SingleMenu.daaff245.js.map

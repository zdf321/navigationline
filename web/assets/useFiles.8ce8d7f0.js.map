{"version":3,"file":"useFiles.8ce8d7f0.js","sources":["../../src/components/Dropdown/DropdownItem.vue","../../src/components/Dropdown/Dropdown.vue","../../src/enums/dropdownEnum.ts","../../src/hooks/components/useFiles.ts"],"sourcesContent":["<template>\n\t<div class=\"dropdown-item flex items-center\" :key=\"`i-${props.item.key}`\">\n\t\t<SvgIcon :name=\"item.icon\" :size=\"item.iconSize || 15\" class=\"mr-3\" v-if=\"item.icon\" />\n\t\t<span>{{ item.text }}</span>\n\t</div>\n</template>\n\n<script setup lang=\"ts\">\n\timport { DropMenu } from './useDropdown'\n\n\tconst props = defineProps<{\n\t\titem: DropMenu\n\t}>()\n</script>\n\n<style lang=\"scss\">\n\t.dropdown-item {\n\t\tspan {\n\t\t\tfont-size: 13px;\n\t\t}\n\t}\n</style>\n","<template>\n\t<el-dropdown :trigger=\"trigger\" v-bind=\"$attrs\" @visible-change=\"visibleChange\">\n\t\t<span>\n\t\t\t<slot></slot>\n\t\t</span>\n\t\t<template #dropdown>\n\t\t\t<el-dropdown-menu>\n\t\t\t\t<template v-for=\"item in dropMenuList\" :key=\"item.key\">\n\t\t\t\t\t<el-dropdown-item\n\t\t\t\t\t\tv-bind=\"getAttr(item.key)\"\n\t\t\t\t\t\t:disabled=\"item.disabled\"\n\t\t\t\t\t\t:divided=\"item.divided\"\n\t\t\t\t\t\t@click.stop.prevent=\"!item.disabled && handleClick(item)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<DropdownItem :item=\"item\" />\n\t\t\t\t\t</el-dropdown-item>\n\t\t\t\t</template>\n\t\t\t</el-dropdown-menu>\n\t\t</template>\n\t</el-dropdown>\n</template>\n\n<script setup lang=\"ts\">\n\timport { PropType } from 'vue'\n\timport DropdownItem from './DropdownItem.vue'\n\timport { ElDropdown, ElDropdownMenu, ElDropdownItem } from 'element-plus'\n  import {DropMenu} from \"@/components/Dropdown/useDropdown\";\n  import {useEmit} from \"@/utils/useEmitter\";\n\n\tconst props = defineProps({\n\t\ttrigger: {\n\t\t\ttype: [Array] as PropType<('contextmenu' | 'click' | 'hover')[]>,\n\t\t\tdefault: () => ['click']\n\t\t},\n    dropMenuList: {\n      type: Array as PropType<(DropMenu & Recordable)[]>,\n      default: () => []\n    }\n\t})\n\n\tconst emit = defineEmits(['menuEvent'])\n\n\tconst getAttr = (key: string | number) => ({ key })\n\n\tfunction handleClick(item: DropMenu) {\n\t\tconst { key } = item\n\t\tconst menu = props.dropMenuList.find(v => key === v.key)\n\t\temit('menuEvent', menu)\n\t\titem.onClick?.()\n\t}\n\n  // 下拉框出现/隐藏时触发,出现则为 true，隐藏则为 false\n  function visibleChange(val) {\n\n  }\n</script>\n","export enum DropdownEnum {\n  LOGOUT, //退出\n  ADD_FOLDER, //新建文件夹\n  ADD_WEBSITE, // 新建网站\n  EDIT_FOLDER, //修改文件夹/重命名\n  EDIT_WEBSITE, //编辑网站\n  CLONE_MOVE, //复制或移动\n  DELETE, //放入回收站\n  RESTORE, //还原\n  // CLEAR_ALL, //清空回收站\n  DELETE_COMP, //彻底删除\n  USER_CENTER,//个人中心\n  ADD_COMMON_USE,//添加到我的常用\n  REMOVE_COMMON_USE,// 移除我的常用\n  ADD_COLLECT,// 添加收藏\n  REMOVE_COLLECT,// 取消收藏\n  OPEN_WEBSITE_DETAIL,//打开详情\n  OPEN_WEBSITE,//打开网站\n  SHARE_WEBSITE,//分享网站\n  REMOVE_COMMON_USE_PUBLISH,//从发布态移出我的常用\n  ADD_COMMON_USE_PUBLISH,//添加到我的常用-发布态\n  MY_FILE,//我的文件\n  GETTING_STARTED,//入门教程\n  HOME_INDEX,//官网首页\n}\n","import { useFilesStore } from '@/store/modules/files'\nimport {useTeamStore} from '@/store/modules/team'\nimport { computed } from 'vue'\n\nexport function useFiles() {\n\tconst filesStore = useFilesStore()\n  const teamStore = useTeamStore()\n\tconst getFolderMenu = computed(() => teamStore.getActiveMenu?.value)\n\tconst getActionFileListType = computed(() => filesStore.getFileListViewType)\n\tconst getListViewType = computed(() => filesStore.getFileListViewType)\n\n\tfunction handleFolderMenuChange(menu) {\n    teamStore.setActiveMenu(menu)\n\n    filesStore.resetFolderBreadcrumb()\n\t}\n\n\tfunction handleSetActionFileListType(type) {\n\t\tfilesStore.setFilesListViewType(type)\n\t}\n\n\treturn {\n\t\tgetFolderMenu,\n\t\tgetActionFileListType,\n\t\tgetListViewType,\n\t\thandleFolderMenuChange,\n\t\thandleSetActionFileListType\n\t}\n}\n"],"names":["props","__props","emit","__emit","getAttr","key","handleClick","item","menu","v","_a","visibleChange","val","DropdownEnum","DropdownEnum2","useFiles","filesStore","useFilesStore","teamStore","useTeamStore","getFolderMenu","computed","getActionFileListType","getListViewType","handleFolderMenuChange","handleSetActionFileListType","type"],"mappings":"2RAUC,MAAMA,EAAQC,gbCmBd,MAAMD,EAAQC,EAWRC,EAAOC,EAEPC,EAAWC,IAA0B,CAAE,IAAAA,CAAI,GAEjD,SAASC,EAAYC,EAAgB,OAC9B,KAAA,CAAE,IAAAF,CAAQ,EAAAE,EACVC,EAAOR,EAAM,aAAa,KAAUS,GAAAJ,IAAQI,EAAE,GAAG,EACvDP,EAAK,YAAaM,CAAI,GACtBE,EAAAH,EAAK,UAAL,MAAAG,EAAA,KAAAH,EACD,CAGC,SAASI,EAAcC,EAAK,CAE5B,weCtDU,IAAAC,GAAAA,IACVA,EAAAC,EAAA,OAAA,GAAA,SACAD,EAAAC,EAAA,WAAA,GAAA,aACAD,EAAAC,EAAA,YAAA,GAAA,cACAD,EAAAC,EAAA,YAAA,GAAA,cACAD,EAAAC,EAAA,aAAA,GAAA,eACAD,EAAAC,EAAA,WAAA,GAAA,aACAD,EAAAC,EAAA,OAAA,GAAA,SACAD,EAAAC,EAAA,QAAA,GAAA,UAEAD,EAAAC,EAAA,YAAA,GAAA,cACAD,EAAAC,EAAA,YAAA,GAAA,cACAD,EAAAC,EAAA,eAAA,IAAA,iBACAD,EAAAC,EAAA,kBAAA,IAAA,oBACAD,EAAAC,EAAA,YAAA,IAAA,cACAD,EAAAC,EAAA,eAAA,IAAA,iBACAD,EAAAC,EAAA,oBAAA,IAAA,sBACAD,EAAAC,EAAA,aAAA,IAAA,eACAD,EAAAC,EAAA,cAAA,IAAA,gBACAD,EAAAC,EAAA,0BAAA,IAAA,4BACAD,EAAAC,EAAA,uBAAA,IAAA,yBACAD,EAAAC,EAAA,QAAA,IAAA,UACAD,EAAAC,EAAA,gBAAA,IAAA,kBACAD,EAAAC,EAAA,WAAA,IAAA,aAvBUD,IAAAA,GAAA,CAAA,CAAA,ECIL,SAASE,GAAW,CAC1B,MAAMC,EAAaC,IACZC,EAAYC,IACbC,EAAgBC,EAAS,IAAA,OAAM,OAAAX,EAAAQ,EAAU,gBAAV,YAAAR,EAAyB,MAAK,EAC7DY,EAAwBD,EAAS,IAAML,EAAW,mBAAmB,EACrEO,EAAkBF,EAAS,IAAML,EAAW,mBAAmB,EAErE,SAASQ,EAAuBhB,EAAM,CACnCU,EAAU,cAAcV,CAAI,EAE5BQ,EAAW,sBAAsB,CACpC,CAEA,SAASS,EAA4BC,EAAM,CAC1CV,EAAW,qBAAqBU,CAAI,CACrC,CAEO,MAAA,CACN,cAAAN,EACA,sBAAAE,EACA,gBAAAC,EACA,uBAAAC,EACA,4BAAAC,CAAA,CAEF"}
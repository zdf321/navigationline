{"version":3,"file":"index.3670952a.js","sources":["../../src/assets/images/logo.png","../../src/layout/default/logo/index.vue","../../src/layout/default/header/components/menu/index.vue","../../src/layout/default/header/components/user-dropdown/index.vue","../../node_modules/@element-plus/icons-vue/dist/es/caret-bottom.mjs","../../node_modules/@element-plus/icons-vue/dist/es/check.mjs","../../node_modules/@element-plus/icons-vue/dist/es/plus.mjs","../../src/layout/default/team/useTeamForm.ts","../../src/layout/default/team/TeamForm.vue","../../src/components/TeamChange/TeamChange.vue"],"sourcesContent":["export default \"__VITE_ASSET__aa46dfc8__\"","<template>\r\n\t<div class=\"app-logo-container\">\r\n\t\t<div class=\"app-logo flex items-center justify-center cursor-pointer\" @click=\"handleGoHome\">\r\n\t\t\t<img src=\"@/assets/images/logo.png\" class=\"logo-img\" />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { useGo } from '@/hooks/web/usePage'\r\n\timport { RouteEnum } from '@/enums/routeEnum'\r\n\tconst go = useGo()\r\n\r\n\tfunction handleGoHome() {\r\n\t\tgo(RouteEnum.BASIC_ROOT)\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.app-logo-container {\r\n\t\t.logo-img {\r\n\t\t\theight: 40px;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<template>\n  <div class=\"header-menu-container\">\n    <el-menu mode=\"horizontal\" :default-active=\"$route.path\">\n      <el-menu-item v-for=\"menu in headerMenus\" :key=\"menu.path\" :index=\"menu.path\"\n                    @click=\"handleMenuChange(menu, $event)\">\n        <a :href=\"menu.path\" v-if=\"menu.path.indexOf('http') == 0\">{{menu.name}}</a>\n        <template v-else>{{menu.name}}</template>\n      </el-menu-item>\n    </el-menu>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {headerMenus} from './consts'\nimport type {HeaderMenu} from './consts'\nimport {useGo} from '@/hooks/web/usePage'\nimport {useUser} from \"@/hooks/components/useUserLogin\";\nimport {unref} from \"vue\";\nimport {RouteEnum} from \"@/enums/routeEnum\";\nimport {useUserStore} from \"@/store/modules/user\";\nimport {router} from \"@/router\";\nimport {useTeamStore} from \"@/store/modules/team\";\nimport {MenuValueEnum} from \"@/enums/menuValueEnum\";\nimport {useFiles} from \"@/hooks/components/useFiles\";\n\nconst go = useGo()\n\nconst teamStore = useTeamStore()\nconst userStore = useUserStore()\nconst {handleFolderMenuChange} = useFiles()\n\nfunction handleMenuChange(menu: HeaderMenu, evt: any) {\n  const {hasLogin} = useUser()\n\n  if (!unref(hasLogin) && menu.needLogin) {\n    // ElMessageBox.confirm('未登录，请先进行登录', '提示', {\n    //   confirmButtonText: '确认',\n    //   cancelButtonText: '取消',\n    //   type: 'warning'\n    // })\n    //   .then(() => {\n    //     const userStore = useUserStore()\n    //     router.push(RouteEnum.BASIC_LOGIN)\n    //     userStore.resetState()\n    //     return\n    //   })\n    //   .catch(() => {\n    //     return\n    //   })\n    router.push(RouteEnum.BASIC_LOGIN)\n    userStore.resetState()\n    return\n  }\n\n  if (menu.path.indexOf('http') == 0) {\n    window.open(menu.path)\n    return\n  }\n\n  if (RouteEnum.SELF_FILE === menu.path) {\n    goMyFile()\n    return\n  }\n\n  go(menu.path)\n}\n\nfunction goMyFile() {\n  router.push(RouteEnum.SELF_FILE)\n\n  let userInfo = userStore.getUserInfo\n  teamStore.setActiveTeamId(userInfo.myTeamId)\n  teamStore.setActiveTeamType('PERSONAL')\n\n  let myFileMenu = {\n    icon: 'menu-self-file',\n    text: '我的文件',\n    value: MenuValueEnum.MY_FILE,\n    spaceId: userInfo.myTeamSpaceId\n  }\n  handleFolderMenuChange(myFileMenu)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.header-menu-container {\n  width: 550px;\n  padding-right: 20px;\n\n  .el-menu {\n    height: 40px;\n    border: none;\n    justify-content: flex-end;\n  }\n\n  .el-menu--horizontal > .el-menu-item {\n    border-bottom: none;\n    text-decoration: none;\n  }\n\n}\n</style>\n","<template>\r\n  <div class=\"user-container flex items-center justify-between\">\r\n    <headerMenus/>\r\n    <component :is=\"userCom\"></component>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport {defineComponent, computed, unref} from 'vue'\r\nimport unauth from './unauth.vue'\r\nimport user from './user.vue'\r\nimport headerMenus from '../menu/index.vue'\r\nimport {useUser} from '@/hooks/components/useUserLogin'\r\nimport {useRouter} from 'vue-router'\r\nimport {RouteEnum} from '@/enums/routeEnum'\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    unauth,\r\n    user,\r\n    headerMenus\r\n  },\r\n  setup() {\r\n    const {hasLogin} = useUser()\r\n    const {currentRoute} = useRouter()\r\n\r\n    //登录注册页，不显示登录按钮\r\n    const isLoginRouter = computed(\r\n      () =>\r\n        unref(currentRoute).path === `${RouteEnum.BASIC_LOGIN}`\r\n    )\r\n\r\n    const userCom = computed<string>(() =>\r\n      unref(hasLogin) ? 'user' : (unref(isLoginRouter) ? '' : 'unauth')\r\n    )\r\n    return {\r\n      userCom\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user-container {\r\n  height: 40px;\r\n}\r\n</style>\r\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"CaretBottom\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"m192 384 320 384 320-384z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar caretBottom = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { caretBottom as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"Check\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar check = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { check as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"Plus\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar plus = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { plus as default };\n","import {reactive} from 'vue'\r\n\r\nexport function useTeamForm() {\r\n  const teamData = reactive({\r\n    visible: false,\r\n    title: '创建团队',\r\n    type: 'add'\r\n  })\r\n\r\n  // 成员规模\r\n  const teamScales = reactive([\r\n    {\r\n      value: 'SCALE_1_10',\r\n      name: '1-10人'\r\n    },\r\n    {\r\n      value: 'SCALE_11_20',\r\n      name: '11-20人'\r\n    },\r\n    {\r\n      value: 'SCALE_21_50',\r\n      name: '21-50人'\r\n    },\r\n    {\r\n      value: 'SCALE_51_100',\r\n      name: '51-100人'\r\n    },\r\n    {\r\n      value: 'SCALE_101_200',\r\n      name: '101-200人'\r\n    },\r\n    {\r\n      value: 'SCALE_201_500',\r\n      name: '201-500人'\r\n    },\r\n    {\r\n      value: 'SCALE_501_1000',\r\n      name: '501-1000人'\r\n    },\r\n    {\r\n      value: 'SCALE_1001_2000',\r\n      name: '1001-2000人'\r\n    },\r\n    {\r\n      value: 'SCALE_2001',\r\n      name: '2000人以上'\r\n    }\r\n  ])\r\n\r\n  // 行业\r\n  const businessTypes = reactive([\r\n    {\r\n      value: '互联网/信息技术'\r\n    },\r\n    {\r\n      value: '自媒体'\r\n    },\r\n    {\r\n      value: '教育行业'\r\n    },\r\n    {\r\n      value: '制造业'\r\n    },\r\n    {\r\n      value: '运输/物流/仓储'\r\n    },\r\n    {\r\n      value: '房地产行业'\r\n    },\r\n    {\r\n      value: '建筑业'\r\n    },\r\n    {\r\n      value: '金融业'\r\n    },\r\n    {\r\n      value: '贸易/批发/零售'\r\n    },\r\n    {\r\n      value: '文体/娱乐/传媒'\r\n    },\r\n    {\r\n      value: '商务服务/租赁'\r\n    },\r\n    {\r\n      value: '政府/非盈利机构'\r\n    },\r\n    {\r\n      value: '社会组织'\r\n    },\r\n    {\r\n      value: '科研服务'\r\n    },\r\n    {\r\n      value: '居民服务'\r\n    },\r\n    {\r\n      value: '开采业'\r\n    },\r\n    {\r\n      value: '农/林/牧/渔'\r\n    },\r\n    {\r\n      value: '医疗/卫生/制药'\r\n    },\r\n    {\r\n      value: '电/热/燃气/水供应'\r\n    },\r\n    {\r\n      value: '亲朋好友'\r\n    },\r\n    {\r\n      value: '其他'\r\n    }\r\n  ])\r\n\r\n  function handleTeamVisible(text, type = 'add') {\r\n    teamData.type = type\r\n    teamData.title = text\r\n    teamData.visible = true\r\n  }\r\n\r\n  function handleTeamRes(val) {\r\n    if (val) {\r\n\r\n    }\r\n    teamData.visible = false\r\n  }\r\n\r\n  return {\r\n    teamScales,\r\n    businessTypes,\r\n    teamData,\r\n    handleTeamVisible,\r\n    handleTeamRes\r\n  }\r\n}\r\n","<template>\n\t<ElForm\n\t\tref=\"ruleFormRef\"\n\t\t:model=\"form\"\n\t\tlabel-position=\"right\"\n\t\tlabel-width=\"100px\"\n\t\tsize=\"large\"\n\t\tclass=\"login-basic-form\"\n\t>\n\t\t<ElFormItem label-width=\"0px\"> </ElFormItem>\n\t\t<ElFormItem\n\t\t\tlabel-width=\"0px\"\n\t\t\tprop=\"orgName\"\n\t\t\t:rules=\"[{ required: true, message: '您的企业或组织名不能为空' }]\"\n\t\t>\n\t\t\t<el-input\n\t\t\t\tv-model.trim=\"form.orgName\"\n\t\t\t\tplaceholder=\"请输入团队名称\"\n\t\t\t\tclearable\n\t\t\t\tmaxlength=\"20\"\n\t\t\t\tshow-word-limit\n\t\t\t/>\n\t\t</ElFormItem>\n\t\t<ElFormItem\n\t\t\tlabel-width=\"0px\"\n\t\t\tprop=\"userName\"\n\t\t\t:rules=\"[{ required: true, message: '您的真实姓名不能为空' }]\"\n\t\t>\n\t\t\t<el-input\n\t\t\t\tv-model.trim=\"form.userName\"\n\t\t\t\tplaceholder=\"请输入您的真实姓名，便于团队成员间协作\"\n\t\t\t\tclearable\n\t\t\t\tmaxlength=\"20\"\n\t\t\t\tshow-word-limit\n\t\t\t/>\n\t\t</ElFormItem>\n\t\t<ElFormItem label-width=\"0px\" prop=\"scale\">\n\t\t\t<el-select v-model=\"form.scale\" placeholder=\"请选择成员规模\" clearable style=\"width: 100%\">\n\t\t\t\t<el-option\n\t\t\t\t\tv-for=\"item in teamScales\"\n\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t:label=\"item.name\"\n\t\t\t\t\t:value=\"item.value\"\n\t\t\t\t/>\n\t\t\t</el-select>\n\t\t</ElFormItem>\n\t\t<ElFormItem label-width=\"0px\" prop=\"businessType\">\n\t\t\t<el-select\n\t\t\t\tv-model=\"form.businessType\"\n\t\t\t\tplaceholder=\"请选择您的行业\"\n\t\t\t\tclearable\n\t\t\t\tstyle=\"width: 100%\"\n\t\t\t>\n\t\t\t\t<el-option\n\t\t\t\t\tv-for=\"item in businessTypes\"\n\t\t\t\t\t:key=\"item.value\"\n\t\t\t\t\t:label=\"item.value\"\n\t\t\t\t\t:value=\"item.value\"\n\t\t\t\t/>\n\t\t\t</el-select>\n\t\t</ElFormItem>\n\t\t<div class=\"flex justify-end mt-10\">\n\t\t\t<el-button type=\"primary\" @click=\"handleSure\">确定</el-button>\n\t\t\t<el-button @click=\"handleClose\">取消</el-button>\n\t\t</div>\n\t</ElForm>\n</template>\n\n<script setup lang=\"ts\">\n\timport { fetchAddTeam } from '@/api/fetchs/team'\n\timport { ref, unref, watchEffect } from 'vue'\n\timport { useTeamForm } from './useTeamForm'\n\timport { AddTeamParams } from '@/api/model/teamModel'\n\timport { getSearchParams } from '@/utils/form'\n\timport { useEmit } from '@/utils/useEmitter'\n\timport { ElMessage } from 'element-plus'\n\n\tconst props = defineProps<{\n\t\tdefaultForm?: AddTeamParams\n\t}>()\n\tconst ruleFormRef = ref()\n\tconst form = ref<AddTeamParams>({\n\t\torgName: '',\n\t\tuserName: '',\n\t\tscale: '',\n\t\tbusinessType: ''\n\t})\n\tconst { teamScales, businessTypes } = useTeamForm()\n\n\twatchEffect(() => {\n\t\tif (props.defaultForm) {\n\t\t\tconst { ...rest } = props.defaultForm\n\t\t\tform.value = Object.assign({}, { ...rest })\n\t\t} else {\n\t\t\tform.value = {\n\t\t\t\torgName: '',\n\t\t\t\tuserName: '',\n\t\t\t\tscale: '',\n\t\t\t\tbusinessType: ''\n\t\t\t}\n\t\t}\n\t})\n\n\tconst emit = defineEmits(['formResponse'])\n\n\tfunction handleSure() {\n\t\truleFormRef.value.validate(valid => {\n\t\t\tif (valid) {\n\t\t\t\thandleAddTeamApi()\n\t\t\t\temit('formResponse', true)\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction handleClose() {\n\t\temit('formResponse', false)\n\t}\n\n\t/* ================================== fetchs ================================== */\n\tasync function handleAddTeamApi() {\n\t\tconst params = getSearchParams(form.value)\n\t\tawait fetchAddTeam(params)\n\t\tElMessage.success('添加成功')\n\t\tuseEmit('handleUpdateTeamList')\n\t}\n</script>\n<style lang=\"scss\"></style>\n","<template>\n\t<div class=\"version-change\" v-popover=\"popoverRef\" v-click-outside=\"onClickOutside\">\n\t\t<el-image\n\t\t\tstyle=\"width: 28px; height: 28px\"\n\t\t\tsrc=\"url\"\n\t\t\tfit=\"fill\"\n\t\t\tv-if=\"activeTeam.teamType === 'PERSONAL'\"\n\t\t>\n\t\t\t<template #error>\n\t\t\t\t<SvgIcon name=\"logo\" :size=\"28\" class=\"logo-icon\" />\n\t\t\t</template>\n\t\t</el-image>\n\t\t<div\n\t\t\tstyle=\"\n\t\t\t\twidth: 28px;\n\t\t\t\theight: 28px;\n\t\t\t\tbackground-color: #3b82f6;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\"\n\t\t\tv-if=\"activeTeam.teamType !== 'PERSONAL'\"\n\t\t>\n\t\t\t<span style=\"color: #ffffff; font-size: 18px\">{{ activeTeam.name?.substring(0, 1) }}</span>\n\t\t</div>\n\t\t<span class=\"version-title\">&nbsp;{{ activeTeam.name }}&nbsp;</span>\n\t\t<el-tag type=\"info\" size=\"small\">{{ activeTeam.vipName }}</el-tag>\n\t\t<el-icon>\n\t\t\t<CaretBottom />\n\t\t</el-icon>\n\t</div>\n\t<el-popover ref=\"popoverRef\" trigger=\"click\" virtual-triggering persistent width=\"200px\">\n\t\t<el-row\n\t\t\tstyle=\"height: 60px; cursor: pointer; align-items: center\"\n\t\t\tv-for=\"item in teamList\"\n\t\t\t:key=\"item.teamId\"\n\t\t\t@click=\"changeTeam(item)\"\n\t\t>\n\t\t\t<el-col :span=\"4\" style=\"display: flex; align-items: center\">\n\t\t\t\t<el-image\n\t\t\t\t\tstyle=\"width: 30px; height: 30px\"\n\t\t\t\t\tsrc=\"url\"\n\t\t\t\t\tfit=\"fill\"\n\t\t\t\t\tv-if=\"item.teamType === 'PERSONAL'\"\n\t\t\t\t>\n\t\t\t\t\t<template #error>\n\t\t\t\t\t\t<SvgIcon name=\"logo\" :size=\"30\" class=\"logo-icon\" />\n\t\t\t\t\t</template>\n\t\t\t\t</el-image>\n\t\t\t\t<div\n\t\t\t\t\tstyle=\"\n\t\t\t\t\t\twidth: 30px;\n\t\t\t\t\t\theight: 30px;\n\t\t\t\t\t\tbackground-color: #3b82f6;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\t\"\n\t\t\t\t\tv-if=\"item.teamType !== 'PERSONAL'\"\n\t\t\t\t>\n\t\t\t\t\t<span style=\"color: #ffffff; font-size: 18px\">{{ item.name.substring(0, 1) }}</span>\n\t\t\t\t</div>\n\t\t\t</el-col>\n\t\t\t<el-col\n\t\t\t\t:span=\"18\"\n\t\t\t\tstyle=\"display: flex; flex-direction: column; justify-content: center; padding: 6px\"\n\t\t\t>\n\t\t\t\t<p>{{ item.name }}</p>\n\t\t\t\t<p>\n\t\t\t\t\t<el-tag class=\"ml-2\" type=\"info\" size=\"small\">{{ item.vipName }}</el-tag>\n\t\t\t\t</p>\n\t\t\t</el-col>\n\t\t\t<el-col :span=\"2\" style=\"line-height: 60px\">\n\t\t\t\t<el-icon v-if=\"teamStore.getActiveTeamId === item.teamId\">\n\t\t\t\t\t<Check />\n\t\t\t\t</el-icon>\n\t\t\t</el-col>\n\t\t</el-row>\n\t\t<el-divider />\n\t\t<div style=\"display: flex; align-items: center; justify-content: center\">\n\t\t\t<el-button size=\"small\" :icon=\"Plus\" @click=\"handleTeamVisible('创建团队')\"\n\t\t\t\t>创建团队</el-button\n\t\t\t>\n\t\t\t<el-tag class=\"ml-2\" size=\"small\">高效便捷</el-tag>\n\t\t\t<!--      <el-tag class=\"ml-2\" size=\"small\">30天免费试用</el-tag>-->\n\t\t</div>\n\t</el-popover>\n\n\t<SimpleDialog\n\t\tv-model:visible=\"teamData.visible\"\n\t\twidth=\"600px\"\n\t\t:title=\"teamData.title\"\n\t\t:footer=\"false\"\n\t>\n\t\t<TeamForm @formResponse=\"handleTeamRes\" key=\"add-website\" />\n\t</SimpleDialog>\n</template>\n\n<script setup lang=\"ts\">\n\timport { ref, unref, watch } from 'vue'\n\timport { CaretBottom, Check, Plus } from '@element-plus/icons-vue'\n\timport { ClickOutside as vClickOutside } from 'element-plus'\n\timport SimpleDialog from '@/components/SimpleDialog/SimpleDialog.vue'\n\timport TeamForm from '@/layout/default/team/TeamForm.vue'\n\timport { useTeamForm } from '@/layout/default/team/useTeamForm'\n\timport { fetchTeamList } from '@/api/fetchs/team'\n\timport { useTeamStore } from '@/store/modules/team'\n\timport { useOnEmitFn } from '@/utils/useEmitter'\n\timport { router } from '@/router'\n\timport { RouteEnum } from '@/enums/routeEnum'\n\timport { MENU_MY_COMMON_USE } from '@/consts/menu'\n\timport { useRoute } from 'vue-router'\n\n\tconst { teamData, handleTeamVisible, handleTeamRes } = useTeamForm()\n\n\tconst popoverRef = ref()\n\tconst onClickOutside = () => {\n\t\tunref(popoverRef).popperRef?.delayHide?.()\n\t}\n\n\tconst teamStore = useTeamStore()\n\tconst route = useRoute()\n\tconst teamList = ref<Recordable[]>([])\n\tconst activeTeam = ref<Recordable>({})\n\n\tuseOnEmitFn('handleUpdateTeamList', getTeamList)\n\n\tfunction changeTeam(team: Recordable) {\n\t\tif (teamStore.getActiveTeamType !== team.teamType) {\n\t\t\tlet teamRouter = team.teamType === 'PERSONAL' ? RouteEnum.SELF_FILE : RouteEnum.TEAM\n\t\t\trouter.push(teamRouter)\n\t\t} else if (teamStore.getActiveTeamId !== team.teamId) {\n\t\t\trouter.go(0)\n\t\t\tteamStore.setActiveMenu(MENU_MY_COMMON_USE)\n\t\t}\n\t\tactiveTeam.value = team\n\t\tteamStore.setActiveTeamId(team.teamId)\n\t\tteamStore.setActiveTeamType(team.teamType)\n\t}\n\n\twatch(\n\t\t() => teamStore.getActiveTeamId,\n\t\t() => {\n\t\t\tif (teamStore.getActiveTeamId) {\n\t\t\t\tlet data = teamList.value\n\t\t\t\tlet checkedTeam = data.find(v => v.teamId === teamStore.getActiveTeamId)\n\t\t\t\tif (!checkedTeam) {\n\t\t\t\t\tteamStore.setActiveTeamId(data[0].teamId)\n\t\t\t\t\tteamStore.setActiveTeamType(data[0].teamType)\n\t\t\t\t\tcheckedTeam = data[0]\n\t\t\t\t}\n\t\t\t\tactiveTeam.value = checkedTeam\n\t\t\t}\n\t\t}\n\t)\n\n\t/* ================================== fetchs ================================== */\n\tasync function getTeamList() {\n\t\tconst { data } = await fetchTeamList()\n\t\tteamList.value = data\n\n\t\tif (!teamStore.getActiveTeamId) {\n\t\t\tif (route.path.indexOf(RouteEnum.SELF_FILE) >= 0) {\n\t\t\t\tlet personalTeam = data.find(v => v.teamType === 'PERSONAL')\n\t\t\t\tteamStore.setActiveTeamId(personalTeam.teamId)\n\t\t\t\tteamStore.setActiveTeamType(personalTeam.teamType)\n\t\t\t} else {\n\t\t\t\tlet teams = data.filter(v => v.teamType !== 'PERSONAL')\n\t\t\t\tteamStore.setActiveTeamId(teams[0].teamId)\n\t\t\t\tteamStore.setActiveTeamType(teams[0].teamType)\n\t\t\t\tteamStore.setActiveMenu(MENU_MY_COMMON_USE)\n\t\t\t}\n\t\t}\n\n\t\tlet checkedTeam = data.find(v => v.teamId === teamStore.getActiveTeamId)\n\t\tif (!checkedTeam) {\n\t\t\tteamStore.setActiveTeamId(data[0].teamId)\n\t\t\tteamStore.setActiveTeamType(data[0].teamType)\n\t\t\tcheckedTeam = data[0]\n\t\t}\n\t\tactiveTeam.value = checkedTeam\n\t}\n\n\tgetTeamList()\n</script>\n\n<style lang=\"scss\" scoped>\n\t.version-change {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t}\n\n\t.version-title {\n\t\tfont-weight: bold;\n\t}\n\n\t.logo-icon {\n\t\tcolor: #3b82f6;\n\t}\n\n\t.el-tag--small {\n\t\tpadding: 0 3px;\n\t}\n\n\t.el-divider--horizontal {\n\t\tmargin: 13px 0;\n\t}\n</style>\n"],"names":["_imports_0","go","useGo","handleGoHome","RouteEnum","teamStore","useTeamStore","userStore","useUserStore","handleFolderMenuChange","useFiles","handleMenuChange","menu","evt","hasLogin","useUser","unref","router","goMyFile","userInfo","myFileMenu","MenuValueEnum","_sfc_main","defineComponent","unauth","user","headerMenus","currentRoute","useRouter","isLoginRouter","computed","_hoisted_1","_openBlock","_createElementBlock","_createVNode","_component_headerMenus","_createBlock","_resolveDynamicComponent","_ctx","_hoisted_2","createElementVNode","_hoisted_3","_sfc_render","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","caretBottom","_export_sfc","check","plus","useTeamForm","teamData","reactive","teamScales","businessTypes","handleTeamVisible","text","type","handleTeamRes","val","props","__props","ruleFormRef","ref","form","watchEffect","rest","__objRest","__spreadValues","emit","__emit","handleSure","valid","handleAddTeamApi","handleClose","__async","params","getSearchParams","fetchAddTeam","ElMessage","useEmit","popoverRef","onClickOutside","_b","_a","route","useRoute","teamList","activeTeam","useOnEmitFn","getTeamList","changeTeam","team","teamRouter","MENU_MY_COMMON_USE","watch","data","checkedTeam","v","fetchTeamList","personalTeam","teams"],"mappings":"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"}
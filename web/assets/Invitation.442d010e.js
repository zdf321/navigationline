var f=(b,c,s)=>new Promise((d,t)=>{var n=a=>{try{u(s.next(a))}catch(l){t(l)}},i=a=>{try{u(s.throw(a))}catch(l){t(l)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(n,i);u((s=s.apply(b,c)).next())});import{_ as k,d as C,b as R,a as S,r as _,e as D,M,g,y as V,z,o as H,l as O,i as y,f as U,k as r,j as I,t as h,w as q,n as F,R as p,E as G,u as L}from"./index.96d3aca4.js";import{B as j,C as P}from"./team.4e4308de.js";import{g as J}from"./form.8bf32b71.js";var K="/assets/invitation.7ac31645.png";const Q={class:"invitation-container"},W={class:"mb-5",style:{"font-size":"16px","font-weight":"400",color:"#212930"}},X={class:"mb-5",style:{"font-size":"14px","font-weight":"500",color:"#212930",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},Y={style:{color:"#ffffff","font-size":"18px",display:"inline-block",width:"28px",height:"28px","background-color":"#3B82F6","border-radius":"4px","text-align":"center"}},Z={class:"ml-1",style:{display:"inline-block"}},$=C({__name:"Invitation",setup(b){const c=R(),s=c.currentRoute.value.query.inviteId,d=S(),t=_(""),n=_(),i=_(!1),u=D(()=>t.value.length>0);M(()=>{const o=c.currentRoute.value.query.name;o&&(t.value=o+"")});function a(){return f(this,null,function*(){i.value=!0;try{const{data:o}=yield j(s);o?n.value=o:F.push(p.INVITATION_ERROR+"/"+p.HIDE_CHILDREN_IN_MENU)}finally{i.value=!1}})}a();function l(){return f(this,null,function*(){const o={inviteId:s,nickname:t.value},e=J(o),{status:m}=yield P(e);if(m==1)G.success("\u52A0\u5165\u6210\u529F"),d.setActiveTeamId(n.value.teamId),d.setActiveTeamType(n.value.teamType),F.push(p.TEAM);else if(m==3){const v=L();F.push(p.BASIC_LOGIN+"?callback="+window.location.origin+"/team/invitation/index?inviteId="+s+"&name="+t.value),v.resetState()}})}return(o,e)=>{var x,E,w,B;const m=g("el-image"),v=g("el-input"),A=g("el-button"),T=V("loading");return z((H(),O("div",Q,[y(m,{style:{width:"200px",height:"200px"},src:U(K),fit:"fill"},null,8,["src"]),r("div",W,[e[1]||(e[1]=I("Hi, ")),r("b",null,h(((x=n.value)==null?void 0:x.nickname)||"navigationline"),1),e[2]||(e[2]=I("\u9080\u8BF7\u60A8\u52A0\u5165\u56E2\u961F "))]),r("div",X,[r("span",Y,h((w=(E=n.value)==null?void 0:E.teamName)==null?void 0:w.substring(0,1)),1),r("span",Z,h((B=n.value)==null?void 0:B.teamName),1)]),y(v,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=N=>t.value=N),size:"large",placeholder:"\u8BF7\u586B\u5199\u60A8\u7684\u771F\u5B9E\u59D3\u540D\uFF0C\u4FBF\u4E8E\u56E2\u961F\u6210\u5458\u95F4\u534F\u4F5C\uFF08\u5FC5\u586B\uFF09",class:"mb-5"},null,8,["modelValue"]),y(A,{type:"primary",size:"large",disabled:!u.value,onClick:l},{default:q(()=>e[3]||(e[3]=[I("\u786E\u8BA4\u52A0\u5165")])),_:1},8,["disabled"])])),[[T,i.value]])}}});var ne=k($,[["__scopeId","data-v-31723632"]]);export{ne as default};
//# sourceMappingURL=Invitation.442d010e.js.map

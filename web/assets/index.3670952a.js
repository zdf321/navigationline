var oe=Object.defineProperty;var M=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var H=(a,u,t)=>u in a?oe(a,u,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[u]=t,Y=(a,u)=>{for(var t in u||(u={}))G.call(u,t)&&H(a,t,u[t]);if(M)for(var t of M(u))q.call(u,t)&&H(a,t,u[t]);return a};var J=(a,u)=>{var t={};for(var r in a)G.call(a,r)&&u.indexOf(r)<0&&(t[r]=a[r]);if(a!=null&&M)for(var r of M(a))u.indexOf(r)<0&&q.call(a,r)&&(t[r]=a[r]);return t};var z=(a,u,t)=>new Promise((r,s)=>{var A=f=>{try{d(t.next(f))}catch(m){s(m)}},o=f=>{try{d(t.throw(f))}catch(m){s(m)}},d=f=>f.done?r(f.value):Promise.resolve(f.value).then(A,o);d((t=t.apply(a,u)).next())});import{u as W}from"./usePage.d2f65d4f.js";import{d as C,o as l,l as E,k as y,_ as R,R as b,a as X,u as ne,g as p,i as n,w as c,F as B,B as O,h as F,t as $,j as I,f as _,n as V,b as le,e as K,C as re,c as U,r as N,D as ie,E as ce,G as de,q as _e,y as me,z as pe,H as fe,m as D,I as ve}from"./index.96d3aca4.js";import{c as Z,_ as he,d as Ee}from"./useUserLogin.a921a5f0.js";import{h as ge}from"./consts.0b1c5abe.js";import{M as Ae}from"./menuValueEnum.ea7dad60.js";import{u as ye}from"./useFiles.8ce8d7f0.js";import{b as Fe,a as xe,_ as Te}from"./useEmitter.ba8e6a16.js";import{f as Ce,a as $e}from"./team.4e4308de.js";import{g as be}from"./form.8bf32b71.js";import{M as Q}from"./menu.11f2eb8e.js";import{_ as j}from"./plugin-vue_export-helper.41ffa612.js";var Ie="/assets/logo.aa46dfc8.png";const we={class:"app-logo-container"},Be=C({__name:"index",setup(a){const u=W();function t(){u(b.BASIC_ROOT)}return(r,s)=>(l(),E("div",we,[y("div",{class:"app-logo flex items-center justify-center cursor-pointer",onClick:t},s[0]||(s[0]=[y("img",{src:Ie,class:"logo-img"},null,-1)]))]))}});var Le=R(Be,[["__scopeId","data-v-44a946d2"]]);const Se={class:"header-menu-container"},ke=["href"],De=C({__name:"index",setup(a){const u=W(),t=X(),r=ne(),{handleFolderMenuChange:s}=ye();function A(d,f){const{hasLogin:m}=Z();if(!_(m)&&d.needLogin){V.push(b.BASIC_LOGIN),r.resetState();return}if(d.path.indexOf("http")==0){window.open(d.path);return}if(b.SELF_FILE===d.path){o();return}u(d.path)}function o(){V.push(b.SELF_FILE);let d=r.getUserInfo;t.setActiveTeamId(d.myTeamId),t.setActiveTeamType("PERSONAL");let f={icon:"menu-self-file",text:"\u6211\u7684\u6587\u4EF6",value:Ae.MY_FILE,spaceId:d.myTeamSpaceId};s(f)}return(d,f)=>{const m=p("el-menu-item"),L=p("el-menu");return l(),E("div",Se,[n(L,{mode:"horizontal","default-active":d.$route.path},{default:c(()=>[(l(!0),E(B,null,O(_(ge),v=>(l(),F(m,{key:v.path,index:v.path,onClick:e=>A(v,e)},{default:c(()=>[v.path.indexOf("http")==0?(l(),E("a",{key:0,href:v.path},$(v.name),9,ke)):(l(),E(B,{key:1},[I($(v.name),1)],64))]),_:2},1032,["index","onClick"]))),128))]),_:1},8,["default-active"])])}}});var Ne=R(De,[["__scopeId","data-v-20ee2331"]]);const Re=C({components:{unauth:he,user:Ee,headerMenus:Ne},setup(){const{hasLogin:a}=Z(),{currentRoute:u}=le(),t=K(()=>_(u).path===`${b.BASIC_LOGIN}`);return{userCom:K(()=>_(a)?"user":_(t)?"":"unauth")}}}),Me={class:"user-container flex items-center justify-between"};function Oe(a,u,t,r,s,A){const o=p("headerMenus");return l(),E("div",Me,[n(o),(l(),F(re(a.userCom)))])}var Ve=R(Re,[["render",Oe],["__scopeId","data-v-2ab3c785"]]);const ze=C({name:"CaretBottom"}),Ue={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},je=y("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1),Pe=[je];function He(a,u,t,r,s,A){return l(),E("svg",Ue,Pe)}var Ge=j(ze,[["render",He]]);const qe=C({name:"Check"}),Ye={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Je=y("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),Ke=[Je];function Qe(a,u,t,r,s,A){return l(),E("svg",Ye,Ke)}var We=j(qe,[["render",Qe]]);const Xe=C({name:"Plus"}),Ze={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},et=y("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),tt=[et];function at(a,u,t,r,s,A){return l(),E("svg",Ze,tt)}var ut=j(Xe,[["render",at]]);function ee(){const a=U({visible:!1,title:"\u521B\u5EFA\u56E2\u961F",type:"add"}),u=U([{value:"SCALE_1_10",name:"1-10\u4EBA"},{value:"SCALE_11_20",name:"11-20\u4EBA"},{value:"SCALE_21_50",name:"21-50\u4EBA"},{value:"SCALE_51_100",name:"51-100\u4EBA"},{value:"SCALE_101_200",name:"101-200\u4EBA"},{value:"SCALE_201_500",name:"201-500\u4EBA"},{value:"SCALE_501_1000",name:"501-1000\u4EBA"},{value:"SCALE_1001_2000",name:"1001-2000\u4EBA"},{value:"SCALE_2001",name:"2000\u4EBA\u4EE5\u4E0A"}]),t=U([{value:"\u4E92\u8054\u7F51/\u4FE1\u606F\u6280\u672F"},{value:"\u81EA\u5A92\u4F53"},{value:"\u6559\u80B2\u884C\u4E1A"},{value:"\u5236\u9020\u4E1A"},{value:"\u8FD0\u8F93/\u7269\u6D41/\u4ED3\u50A8"},{value:"\u623F\u5730\u4EA7\u884C\u4E1A"},{value:"\u5EFA\u7B51\u4E1A"},{value:"\u91D1\u878D\u4E1A"},{value:"\u8D38\u6613/\u6279\u53D1/\u96F6\u552E"},{value:"\u6587\u4F53/\u5A31\u4E50/\u4F20\u5A92"},{value:"\u5546\u52A1\u670D\u52A1/\u79DF\u8D41"},{value:"\u653F\u5E9C/\u975E\u76C8\u5229\u673A\u6784"},{value:"\u793E\u4F1A\u7EC4\u7EC7"},{value:"\u79D1\u7814\u670D\u52A1"},{value:"\u5C45\u6C11\u670D\u52A1"},{value:"\u5F00\u91C7\u4E1A"},{value:"\u519C/\u6797/\u7267/\u6E14"},{value:"\u533B\u7597/\u536B\u751F/\u5236\u836F"},{value:"\u7535/\u70ED/\u71C3\u6C14/\u6C34\u4F9B\u5E94"},{value:"\u4EB2\u670B\u597D\u53CB"},{value:"\u5176\u4ED6"}]);function r(A,o="add"){a.type=o,a.title=A,a.visible=!0}function s(A){a.visible=!1}return{teamScales:u,businessTypes:t,teamData:a,handleTeamVisible:r,handleTeamRes:s}}const st={class:"flex justify-end mt-10"},ot=C({__name:"TeamForm",props:{defaultForm:{}},emits:["formResponse"],setup(a,{emit:u}){const t=a,r=N(),s=N({orgName:"",userName:"",scale:"",businessType:""}),{teamScales:A,businessTypes:o}=ee();ie(()=>{if(t.defaultForm){const v=J(t.defaultForm,[]);s.value=Object.assign({},Y({},v))}else s.value={orgName:"",userName:"",scale:"",businessType:""}});const d=u;function f(){r.value.validate(v=>{v&&(L(),d("formResponse",!0))})}function m(){d("formResponse",!1)}function L(){return z(this,null,function*(){const v=be(s.value);yield Ce(v),ce.success("\u6DFB\u52A0\u6210\u529F"),Fe("handleUpdateTeamList")})}return(v,e)=>{const i=p("ElFormItem"),g=p("el-input"),T=p("el-option"),w=p("el-select"),S=p("el-button"),k=p("ElForm");return l(),F(k,{ref_key:"ruleFormRef",ref:r,model:s.value,"label-position":"right","label-width":"100px",size:"large",class:"login-basic-form"},{default:c(()=>[n(i,{"label-width":"0px"}),n(i,{"label-width":"0px",prop:"orgName",rules:[{required:!0,message:"\u60A8\u7684\u4F01\u4E1A\u6216\u7EC4\u7EC7\u540D\u4E0D\u80FD\u4E3A\u7A7A"}]},{default:c(()=>[n(g,{modelValue:s.value.orgName,"onUpdate:modelValue":e[0]||(e[0]=h=>s.value.orgName=h),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u56E2\u961F\u540D\u79F0",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),n(i,{"label-width":"0px",prop:"userName",rules:[{required:!0,message:"\u60A8\u7684\u771F\u5B9E\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A"}]},{default:c(()=>[n(g,{modelValue:s.value.userName,"onUpdate:modelValue":e[1]||(e[1]=h=>s.value.userName=h),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u771F\u5B9E\u59D3\u540D\uFF0C\u4FBF\u4E8E\u56E2\u961F\u6210\u5458\u95F4\u534F\u4F5C",clearable:"",maxlength:"20","show-word-limit":""},null,8,["modelValue"])]),_:1}),n(i,{"label-width":"0px",prop:"scale"},{default:c(()=>[n(w,{modelValue:s.value.scale,"onUpdate:modelValue":e[2]||(e[2]=h=>s.value.scale=h),placeholder:"\u8BF7\u9009\u62E9\u6210\u5458\u89C4\u6A21",clearable:"",style:{width:"100%"}},{default:c(()=>[(l(!0),E(B,null,O(_(A),h=>(l(),F(T,{key:h.value,label:h.name,value:h.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),n(i,{"label-width":"0px",prop:"businessType"},{default:c(()=>[n(w,{modelValue:s.value.businessType,"onUpdate:modelValue":e[3]||(e[3]=h=>s.value.businessType=h),placeholder:"\u8BF7\u9009\u62E9\u60A8\u7684\u884C\u4E1A",clearable:"",style:{width:"100%"}},{default:c(()=>[(l(!0),E(B,null,O(_(o),h=>(l(),F(T,{key:h.value,label:h.value,value:h.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),y("div",st,[n(S,{type:"primary",onClick:f},{default:c(()=>e[4]||(e[4]=[I("\u786E\u5B9A")])),_:1}),n(S,{onClick:m},{default:c(()=>e[5]||(e[5]=[I("\u53D6\u6D88")])),_:1})])]),_:1},8,["model"])}}});const nt={class:"version-change"},lt={key:1,style:{width:"28px",height:"28px","background-color":"#3b82f6",display:"flex","justify-content":"center","align-items":"center","border-radius":"4px"}},rt={style:{color:"#ffffff","font-size":"18px"}},it={class:"version-title"},ct={key:1,style:{width:"30px",height:"30px","background-color":"#3b82f6",display:"flex","justify-content":"center","align-items":"center","border-radius":"4px"}},dt={style:{color:"#ffffff","font-size":"18px"}},_t={style:{display:"flex","align-items":"center","justify-content":"center"}},mt=C({__name:"TeamChange",setup(a){const{teamData:u,handleTeamVisible:t,handleTeamRes:r}=ee(),s=N(),A=()=>{var e,i;(i=(e=_(s).popperRef)==null?void 0:e.delayHide)==null||i.call(e)},o=X(),d=de(),f=N([]),m=N({});xe("handleUpdateTeamList",v);function L(e){if(o.getActiveTeamType!==e.teamType){let i=e.teamType==="PERSONAL"?b.SELF_FILE:b.TEAM;V.push(i)}else o.getActiveTeamId!==e.teamId&&(V.go(0),o.setActiveMenu(Q));m.value=e,o.setActiveTeamId(e.teamId),o.setActiveTeamType(e.teamType)}_e(()=>o.getActiveTeamId,()=>{if(o.getActiveTeamId){let e=f.value,i=e.find(g=>g.teamId===o.getActiveTeamId);i||(o.setActiveTeamId(e[0].teamId),o.setActiveTeamType(e[0].teamType),i=e[0]),m.value=i}});function v(){return z(this,null,function*(){const{data:e}=yield $e();if(f.value=e,!o.getActiveTeamId)if(d.path.indexOf(b.SELF_FILE)>=0){let g=e.find(T=>T.teamType==="PERSONAL");o.setActiveTeamId(g.teamId),o.setActiveTeamType(g.teamType)}else{let g=e.filter(T=>T.teamType!=="PERSONAL");o.setActiveTeamId(g[0].teamId),o.setActiveTeamType(g[0].teamType),o.setActiveMenu(Q)}let i=e.find(g=>g.teamId===o.getActiveTeamId);i||(o.setActiveTeamId(e[0].teamId),o.setActiveTeamType(e[0].teamType),i=e[0]),m.value=i})}return v(),(e,i)=>{var P;const g=p("SvgIcon"),T=p("el-image"),w=p("el-tag"),S=p("el-icon"),k=p("el-col"),h=p("el-row"),te=p("el-divider"),ae=p("el-button"),ue=p("el-popover"),se=me("popover");return l(),E(B,null,[pe((l(),E("div",nt,[m.value.teamType==="PERSONAL"?(l(),F(T,{key:0,style:{width:"28px",height:"28px"},src:"url",fit:"fill"},{error:c(()=>[n(g,{name:"logo",size:28,class:"logo-icon"})]),_:1})):D("",!0),m.value.teamType!=="PERSONAL"?(l(),E("div",lt,[y("span",rt,$((P=m.value.name)==null?void 0:P.substring(0,1)),1)])):D("",!0),y("span",it,"\xA0"+$(m.value.name)+"\xA0",1),n(w,{type:"info",size:"small"},{default:c(()=>[I($(m.value.vipName),1)]),_:1}),n(S,null,{default:c(()=>[n(_(Ge))]),_:1})])),[[se,s.value],[_(fe),A]]),n(ue,{ref_key:"popoverRef",ref:s,trigger:"click","virtual-triggering":"",persistent:"",width:"200px"},{default:c(()=>[(l(!0),E(B,null,O(f.value,x=>(l(),F(h,{style:{height:"60px",cursor:"pointer","align-items":"center"},key:x.teamId,onClick:vt=>L(x)},{default:c(()=>[n(k,{span:4,style:{display:"flex","align-items":"center"}},{default:c(()=>[x.teamType==="PERSONAL"?(l(),F(T,{key:0,style:{width:"30px",height:"30px"},src:"url",fit:"fill"},{error:c(()=>[n(g,{name:"logo",size:30,class:"logo-icon"})]),_:1})):D("",!0),x.teamType!=="PERSONAL"?(l(),E("div",ct,[y("span",dt,$(x.name.substring(0,1)),1)])):D("",!0)]),_:2},1024),n(k,{span:18,style:{display:"flex","flex-direction":"column","justify-content":"center",padding:"6px"}},{default:c(()=>[y("p",null,$(x.name),1),y("p",null,[n(w,{class:"ml-2",type:"info",size:"small"},{default:c(()=>[I($(x.vipName),1)]),_:2},1024)])]),_:2},1024),n(k,{span:2,style:{"line-height":"60px"}},{default:c(()=>[_(o).getActiveTeamId===x.teamId?(l(),F(S,{key:0},{default:c(()=>[n(_(We))]),_:1})):D("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),n(te),y("div",_t,[n(ae,{size:"small",icon:_(ut),onClick:i[0]||(i[0]=x=>_(t)("\u521B\u5EFA\u56E2\u961F"))},{default:c(()=>i[2]||(i[2]=[I("\u521B\u5EFA\u56E2\u961F")])),_:1},8,["icon"]),n(w,{class:"ml-2",size:"small"},{default:c(()=>i[3]||(i[3]=[I("\u9AD8\u6548\u4FBF\u6377")])),_:1})])]),_:1},512),n(Te,{visible:_(u).visible,"onUpdate:visible":i[1]||(i[1]=x=>_(u).visible=x),width:"600px",title:_(u).title,footer:!1},{default:c(()=>[n(ot,{onFormResponse:_(r),key:"add-website"},null,8,["onFormResponse"])]),_:1},8,["visible","title"])],64)}}});var pt=R(mt,[["__scopeId","data-v-09fa7830"]]);const ft=C({__name:"index",setup(a){return(u,t)=>(l(),F(_(ve),{class:"app-header-container flex items-center justify-between"},{default:c(()=>[["/self-files/index","/team/index"].includes(u.$route.path)?(l(),F(pt,{key:1})):(l(),F(Le,{key:0})),n(Ve,{class:"user-container"})]),_:1}))}});var wt=R(ft,[["__scopeId","data-v-8fed2730"]]);export{wt as H};
//# sourceMappingURL=index.3670952a.js.map

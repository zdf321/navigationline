{"version":3,"file":"OnlyFileContent.e8872604.js","sources":["../../src/components/ContentElement/Folder.vue","../../src/components/ContentElement/Website.vue","../../src/components/ContentElement/Breadcrumb.vue","../../src/components/ContentElement/actions/const.ts","../../src/components/ContentElement/actions/index.vue","../../src/components/ContentElement/multiple-select/index.vue","../../src/views/team/TeamContent.vue","../../src/views/team/OnlyFileContent.vue"],"sourcesContent":["<template>\n  <div>\n    <span\n      :class=\"[\n\t\t\t\t\t\t\t'interspace',\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'enter-type':\n\t\t\t\t\t\t\t\t\tgetEnterType === 'interspace' &&\n\t\t\t\t\t\t\t\t\tgetEnterId === folderItem.id &&\n\t\t\t\t\t\t\t\t\tgetStartItem.id !== getEnterId &&\n\t\t\t\t\t\t\t\t\tgetStartItem.dataType !== DataTypeEnum.WEBSITE\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\"\n      @mousemove=\"handleMousemove(folderItem, $event, 'interspace')\"\n    />\n    <div\n      class=\"menu-folder-item\"\n      :class=\"{\n\t\t\t\t\t\t\tenter: getEnterId === folderItem.id && getStartItem.id && getStartItem.id !== getEnterId,\n\t\t\t\t\t\t\topacity:\n\t\t\t\t\t\t\t\tgetStartItem.id && getStartItem.id === folderItem.id && getStartItem.id !== getEnterId\n\t\t\t\t\t\t}\"\n      @mousedown=\"handleMousedown(folderItem, $event, getFolderList)\"\n      @mousemove=\"handleMousemove(folderItem, $event)\"\n      @mouseenter.stop.prevent=\"handleMouseenter(folderItem)\"\n      @mouseleave=\"handleMouseleave(folderItem)\"\n    >\n      <span class=\"flex items-center\" @click.stop.prevent=\"getNext(folderItem)\">\n        <SvgIcon name=\"list-folder\" :size=\"22\"/>\n        <span class=\"ml-2\" :title=\"folderItem.name\">{{ folderItem.name }}</span>\n      </span>\n      <ItemDropdown\n        v-if=\"itemMenuList\"\n        :itemData=\"folderItem\"\n        :ikey=\"folderItem.id\"\n        :itemMenuList=\"itemMenuList\"\n        class=\"menu-drop\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport ItemDropdown from './ItemDropdown.vue'\nimport {useMouseEvent} from \"./useMouseEvent\";\nimport {useFilesStore} from '@/store/modules/files'\nimport {DataTypeEnum} from './types'\nimport {DropMenu} from \"@/components/Dropdown/useDropdown\";\nimport {useEmit} from \"@/utils/useEmitter\";\n\nconst emit = defineEmits(['handleFolderClick'])\n\nconst props = defineProps<{\n  folderItem: any\n  itemMenuList: DropMenu[]\n  canClick: boolean\n}>()\n\nconst filesStore = useFilesStore()\n\n/* drag */\nconst {\n  getStartItem,\n  getEnterId,\n  getEnterType,\n  handleMousedown,\n  handleMouseenter,\n  handleMouseleave,\n  handleMousemove\n} = useMouseEvent()\n\nfunction getNext(item) {\n  if (item.dataType !== DataTypeEnum.FOLDER || !props.canClick) {\n    return\n  }\n\n  filesStore.setFolderBreadcrumb(item)\n\n  emit('handleFolderClick')\n\n  useEmit('handleUpdateListByPid', item.id)\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import './content.scss';\n</style>\n","<template>\n  <div>\n    <span\n      :class=\"[\n\t\t\t\t\t\t\t\t'interspace',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t'enter-type':\n\t\t\t\t\t\t\t\t\t\tgetEnterType === 'interspace' &&\n\t\t\t\t\t\t\t\t\t\tgetEnterId === websiteItem.id &&\n\t\t\t\t\t\t\t\t\t\tgetStartItem.id !== getEnterId\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\"\n      @mousemove=\"handleMousemove(websiteItem, $event, 'interspace')\"\n    />\n    <div\n      class=\"menu-website-item\"\n      :class=\"{\n\t\t\t\t\t\t\t\t'menu-website-item--disabled': checkedState,\n\t\t\t\t\t\t\t\tenter:\n\t\t\t\t\t\t\t\t\tgetEnterId &&\n\t\t\t\t\t\t\t\t\tgetEnterId === websiteItem.id &&\n\t\t\t\t\t\t\t\t\tgetStartItem.id &&\n\t\t\t\t\t\t\t\t\tgetStartItem.id !== getEnterId &&\n\t\t\t\t\t\t\t\t\tgetStartItem.dataType !== DataTypeEnum.WEBSITE,\n\t\t\t\t\t\t\t\topacity:\n\t\t\t\t\t\t\t\t\tgetStartItem.id && getStartItem.id === websiteItem.id && getStartItem.id !== getEnterId\n\t\t\t\t\t\t\t}\"\n      @mousedown=\"handleMousedown(websiteItem, $event, getWebsiteList)\"\n      @mousemove=\"handleMousemove(websiteItem, $event)\"\n      @mouseenter.stop.prevent=\"handleMouseenter(websiteItem)\"\n      @mouseleave=\"handleMouseleave(websiteItem)\"\n      @click=\"handleFileClick(websiteItem)\"\n    >\n      <div class=\"flex items-center\">\n        <div class=\"website-logo\">\n          <el-image :src=\"websiteItem.logo\">\n            <template #error>\n              <SvgIcon name=\"list-website\" :size=\"45\"/>\n            </template>\n          </el-image>\n        </div>\n        <div class=\"website-p\">\n          <p :title=\"websiteItem.name\">{{ websiteItem.name }}</p>\n          <p :title=\"websiteItem.desc\">{{ websiteItem.desc }}</p>\n        </div>\n      </div>\n      <ItemDropdown\n        v-if=\"menuList\"\n        :itemData=\"websiteItem\"\n        :ikey=\"websiteItem.id\"\n        :itemMenuList=\"unref(menuList)\"\n        :class=\"['menu-drop', { 'menu-drop--disabled': checkedState}]\"\n      />\n      <div @click.stop v-if=\"showCheckbox\">\n        <el-checkbox\n          :class=\"[\n                    'item-checkbox',\n                    { 'item-opc-checkbox': checkedState }\n                  ]\"\n          :label=\"websiteItem.id\"\n        >{{ '' }}\n        </el-checkbox>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport ItemDropdown from './ItemDropdown.vue'\nimport {useMouseEvent} from \"./useMouseEvent\";\nimport {DataTypeEnum} from './types'\nimport {DropMenu} from \"@/components/Dropdown/useDropdown\";\nimport {computed, ref, unref} from \"vue\";\nimport {useTeamStore} from \"@/store/modules/team\";\nimport {MenuValueEnum} from \"@/enums/menuValueEnum\";\nimport {DropdownEnum} from \"@/enums/dropdownEnum\";\nimport {fetchAddOpenHistory} from \"@/api/fetchs/teamNav\";\nimport {getSearchParams} from \"@/utils/form\";\n\nconst props = defineProps<{\n  websiteItem: any\n  itemMenuList: DropMenu[]\n  showCheckbox: boolean\n  checkedState: boolean\n}>()\n\nconst teamStore = useTeamStore()\n\nconst menuList = computed(() => {\n  if(!props.itemMenuList || props.itemMenuList.length == 0) {\n    return null\n  }\n\n  if(teamStore.getActiveMenu?.value == MenuValueEnum.MY_COMMON_USE.valueOf()) {\n    return props.itemMenuList\n  }\n\n  let menus = JSON.parse(JSON.stringify(props.itemMenuList))\n\n  if(props.websiteItem.inCommonUse) {\n    const index = menus.findIndex(v => v.key == DropdownEnum.ADD_COMMON_USE);\n    if(index !== -1) {\n      let addCommonUseMenu = menus[index]\n      addCommonUseMenu.icon = 'menu-unstar'\n      addCommonUseMenu.text = '移出我的常用'\n      addCommonUseMenu.key = DropdownEnum.REMOVE_COMMON_USE\n\n      menus[index] = addCommonUseMenu\n    }\n  }\n\n  return menus\n})\n\n/* drag */\nconst {\n  getStartItem,\n  getEnterId,\n  getEnterType,\n  handleMousedown,\n  handleMouseenter,\n  handleMouseleave,\n  handleMousemove\n} = useMouseEvent()\n\n// 点击\nfunction handleFileClick(item) {\n  handleSaveOpenHistory(item.id)\n  window.open(item.url)\n}\n\n/* ================================== fetchs ================================== */\n\nasync function handleSaveOpenHistory(navId) {\n  const json = {navId}\n  const param = getSearchParams(json)\n  await fetchAddOpenHistory(param)\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n@import './content.scss';\n</style>\n","<template>\n\t<el-breadcrumb class=\"list-breadcrumb\" :separator-icon=\"ArrowRight\">\n\t\t<el-breadcrumb-item\n\t\t\tclass=\"cursor-pointer\"\n\t\t\t:class=\"[\n\t\t\t\t{\n\t\t\t\t\t'cursor-default': index > 0 && index === list.length - 1\n\t\t\t\t}\n\t\t\t]\"\n\t\t\tv-for=\"(item, index) in list\"\n\t\t\t:key=\"item.id\"\n\t\t\t@click=\"handleBreadcrumbClick(item)\"\n\t\t>\n\t\t\t<span\n\t\t\t\tclass=\"breadcrumb-span\"\n\t\t\t\t:class=\"{ enter: index !== list.length - 1 && getStartItem.id && getEnterId === item.id }\"\n\t\t\t\t@mouseenter=\"handleMouseenter(item)\"\n\t\t\t\t@mouseleave=\"handleMouseleave(item)\"\n\t\t\t\t>{{ item.name }}</span\n\t\t\t>\n\t\t</el-breadcrumb-item>\n\t</el-breadcrumb>\n</template>\n\n<script setup lang=\"ts\">\n\timport { ArrowRight } from '@element-plus/icons-vue'\n\timport { ElBreadcrumb, ElBreadcrumbItem } from 'element-plus'\n\timport { computed, unref } from 'vue'\n\timport { FileItem } from './types'\n\timport { useFilesStore } from '@/store/modules/files'\n\timport { useMouseEvent } from './useMouseEvent'\n\n\tconst filesStore = useFilesStore()\n\tconst emit = defineEmits(['handleBreadcrumbClick'])\n\tconst list = computed<Partial<FileItem>[]>(() => filesStore.getFolderBreadcrumb)\n\tfunction handleBreadcrumbClick(item) {\n\t\tfilesStore.setFolderBreadcrumb(item)\n\t\temit('handleBreadcrumbClick', item.id)\n\t}\n\tconst { getEnterId, getStartItem, handleMouseenter, handleMouseleave } = useMouseEvent()\n</script>\n<style lang=\"scss\">\n\t.el-breadcrumb.list-breadcrumb {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.breadcrumb-span {\n\t\tborder: 1px solid transparent;\n\t}\n\t.enter {\n\t\tborder: 1px solid var(--el-color-primary) !important;\n\t\tborder-radius: 4px;\n\t\tcursor: default !important;\n\t}\n</style>\n","import { SortTypeEnum } from '@/api/model/filesModel'\r\n\r\nexport function useActionsConst() {\r\n\tconst getSortTypes = [\r\n\t\t{ value: SortTypeEnum.CREATE_TIME, label: '创建时间' },\r\n\t\t{ value: SortTypeEnum.LAST_UPDATE_TIME, label: '最后修改时间' },\r\n\t\t{ value: SortTypeEnum.TITLE, label: '标题' },\r\n\t\t{ value: SortTypeEnum.TYPE, label: '类型' },\r\n\t\t{ value: SortTypeEnum.CUSTOM, label: '自定义排序' }\r\n\t]\r\n\treturn {\r\n\t\tgetSortTypes\r\n\t}\r\n}\r\n","<template>\r\n\t<div class=\"actions-bar flex items-center\">\r\n\t\t<el-tooltip content=\"清空回收站\" placement=\"bottom\" v-if=\"showDelete\">\r\n\t\t\t<SvgIcon name=\"action-delete\" :size=\"iconSize\" class=\"action-icon\" @click=\"handleClearAll\" />\r\n\t\t</el-tooltip>\r\n\t\t<div v-if=\"showSearch\" class=\"flex items-center action-icon\">\r\n\t\t\t<SvgIcon name=\"action-search\" :size=\"iconSize\" @click.stop=\"handleSearchIconClick\" />\r\n\t\t\t<el-input\r\n\t\t\t\tref=\"actionSearch\"\r\n\t\t\t\tsize=\"small\"\r\n\t\t\t\tv-model=\"searchValue\"\r\n\t\t\t\tplaceholder=\"名称查询\"\r\n\t\t\t\tclass=\"action-search\"\r\n\t\t\t\t:class=\"{ show: showSearchInput }\"\r\n\t\t\t\tclearable\r\n\t\t\t\t@clear=\"handleSearch\"\r\n\t\t\t\t@keyup.enter=\"handleSearch\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<el-popover placement=\"bottom\" :width=\"100\" trigger=\"click\" v-if=\"showSort\">\r\n\t\t\t<template #reference>\r\n\t\t\t\t<!-- <el-tooltip content=\"排序\" placement=\"bottom\"> -->\r\n\t\t\t\t<SvgIcon name=\"action-sort\" :size=\"iconSize\" class=\"action-icon\" />\r\n\t\t\t\t<!-- </el-tooltip> -->\r\n\t\t\t</template>\r\n\t\t\t<template #default>\r\n\t\t\t\t<el-radio-group v-model=\"sortRadioValue\" @change=\"handleSort\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div class=\"sort-item\" v-for=\"item in getSortTypes\" :key=\"item.value\">\r\n\t\t\t\t\t\t\t<el-radio :label=\"item.value\">{{ item.label }}</el-radio>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-radio-group>\r\n\t\t\t</template>\r\n\t\t</el-popover>\r\n\r\n\t\t<el-tooltip content=\"视图\" placement=\"bottom\" v-if=\"getActionFileListType === 'list'\">\r\n\t\t\t<SvgIcon\r\n\t\t\t\tname=\"action-list\"\r\n\t\t\t\t:size=\"iconSize\"\r\n\t\t\t\tclass=\"action-icon\"\r\n\t\t\t\t@click=\"handleListView('menu')\"\r\n\t\t\t/>\r\n\t\t</el-tooltip>\r\n\t\t<el-tooltip content=\"视图\" placement=\"bottom\" v-if=\"getActionFileListType === 'menu'\">\r\n\t\t\t<SvgIcon\r\n\t\t\t\tname=\"action-menu\"\r\n\t\t\t\t:size=\"iconSize\"\r\n\t\t\t\tclass=\"action-icon\"\r\n\t\t\t\t@click=\"handleListView('list')\"\r\n\t\t\t/>\r\n\t\t</el-tooltip>\r\n\t</div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\timport { computed, unref, ref } from 'vue'\r\n\timport { useFiles } from '@/hooks/components/useFiles'\r\n\timport { onClickOutside } from '@vueuse/core'\r\n\timport { useActionsConst } from './const'\r\n\timport { SortTypeEnum } from '@/api/model/filesModel'\r\n\r\n\tconst props = withDefaults(\r\n\t\tdefineProps<{\r\n\t\t\tsortType: SortTypeEnum\r\n\t\t}>(),\r\n\t\t{\r\n\t\t\tsortType: SortTypeEnum.CUSTOM\r\n\t\t}\r\n\t)\r\n\tconst emit = defineEmits(['handleClearAll', 'handleSearch', 'handleSort'])\r\n\r\n\tconst iconSize = 18\r\n\tconst actionSearch = ref<ElRef>(null)\r\n\tconst searchValue = ref<string>('')\r\n\tconst showSearchInput = ref<boolean>(false)\r\n\tconst { getFolderMenu, getActionFileListType, handleSetActionFileListType } = useFiles()\r\n\tconst showDelete = computed(() => unref(getFolderMenu) === 2)\r\n\tconst showSearch = computed(() => unref(getFolderMenu) === 0)\r\n\tconst showSort = computed(() => unref(getFolderMenu) === 0)\r\n\tconst { getSortTypes } = useActionsConst()\r\n\tconst sortRadioValue = ref<SortTypeEnum>(props.sortType)\r\n\r\n\t// 清空回收站\r\n\tfunction handleClearAll() {\r\n\t\temit('handleClearAll')\r\n\t}\r\n\t// 搜索\r\n\tfunction handleSearchIconClick() {\r\n\t\tshowSearchInput.value = !showSearchInput.value\r\n\t\tif (showSearchInput.value) {\r\n\t\t\tactionSearch.value && actionSearch.value.focus()\r\n\t\t}\r\n\t}\r\n\tonClickOutside(actionSearch, () => {\r\n\t\tactionSearch.value && actionSearch.value.blur()\r\n\t\t// searchValue.value = ''\r\n\t\tshowSearchInput.value = false\r\n\t})\r\n\tfunction handleSearch() {\r\n\t\tconsole.log('handleSearch:', searchValue.value)\r\n\t\temit('handleSearch', searchValue.value)\r\n\t}\r\n\t// 排序\r\n\tfunction handleSort() {\r\n\t\tconsole.log('handleSort:', sortRadioValue.value)\r\n\t\temit('handleSort', sortRadioValue.value)\r\n\t}\r\n\t// list-view\r\n\tfunction handleListView(view) {\r\n\t\thandleSetActionFileListType(view)\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.action-icon {\r\n\t\tmargin: 0 10px;\r\n\t}\r\n\t.el-input.action-search {\r\n\t\tfont-size: 12px;\r\n\t\ttransition: width 0.2s;\r\n\t\twidth: 0;\r\n\t\toverflow: hidden;\r\n\t\tborder-radius: 0;\r\n\t\tdisplay: inline-block;\r\n\t\t.el-input__inner {\r\n\t\t\tbackground-color: transparent;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tborder: 0;\r\n\t\t\tpadding-left: 0;\r\n\t\t\tpadding-right: 0;\r\n\t\t\tbox-shadow: none !important;\r\n\t\t\tborder-bottom: 1px solid #d9d9d9;\r\n\t\t\tvertical-align: middle;\r\n\t\t}\r\n\t\t&.show {\r\n\t\t\twidth: 150px;\r\n\t\t\tmargin-left: 10px;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<template>\n\t<div class=\"multiple-select-action flex items-center\">\n\t\t<el-checkbox v-model=\"checkAll\" label=\"all\" @change=\"handleCheckAll\"> 全选 </el-checkbox>\n\t\t<span class=\"split ml-2 mr-2\">|</span>\n\t\t<span class=\"mr-5\">\n\t\t\t已选择\n\t\t\t<span class=\"check-total\">{{ checkedTotal }}</span>\n\t\t\t项\n\t\t</span>\n\t\t<el-button size=\"small\" class=\"ml-5\" type=\"primary\" @click=\"handleCloneMove\"\n\t\t\t>移动或复制</el-button\n\t\t>\n\t\t<el-button size=\"small\" class=\"ml-2\" type=\"danger\" @click=\"handleDelete\">删除</el-button>\n\t\t<el-button size=\"small\" class=\"ml-3\" type=\"info\" @click=\"handleClose\">取消批量操作</el-button>\n\t</div>\n\t<SimpleDialog\n\t\tv-model:visible=\"cloneMoveData.visible\"\n\t\t:title=\"cloneMoveData.title\"\n\t\t:footer=\"false\"\n\t>\n\t\t<CloneMove :dataIds=\"multipleList\" @formResponse=\"handleCloneMoveRes\" />\n\t</SimpleDialog>\n</template>\n\n<script setup lang=\"ts\">\n\timport { ref, watchEffect } from 'vue'\n\timport { useCloneMoveForm } from '../clone-move/useCloneMove'\n\timport { handleTrash } from '../useDelete'\n\timport SimpleDialog from '@/components/SimpleDialog/SimpleDialog.vue'\n\timport CloneMove from '../clone-move/CloneMove.vue'\n\n\tconst props = withDefaults(\n\t\tdefineProps<{ defaultChecked: boolean; checkedTotal: number; multipleList: string[] }>(),\n\t\t{\n\t\t\tdefaultChecked: false,\n\t\t\tcheckedTotal: 0,\n\t\t\tmultipleList: () => []\n\t\t}\n\t)\n\tconst checkAll = ref<boolean>(false)\n\tconst checkLength = ref<number>(0)\n\n\tconst { cloneMoveData, handleCloneMoveVisible, handleCloneMoveRes } = useCloneMoveForm()\n\n\twatchEffect(() => {\n\t\tcheckAll.value = props.defaultChecked\n\t\tcheckLength.value = props.checkedTotal\n\t})\n\n\tconst emit = defineEmits(['close', 'checkAll'])\n\tfunction handleCheckAll(val) {\n\t\temit('checkAll', val)\n\t}\n\tfunction handleCloneMove() {\n\t\thandleCloneMoveVisible()\n\t}\n\tfunction handleDelete() {\n\t\thandleTrash(props.multipleList, '文件批量')\n\t}\n\n\tfunction handleClose() {\n\t\temit('close')\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.multiple-select-action {\n\t\tcolor: #666;\n\t\t.split {\n\t\t\tcolor: #dbdbdb;\n\t\t}\n\t\t.check-total {\n\t\t\tcolor: var(--el-color-primary);\n\t\t}\n\t}\n</style>\n","<template>\r\n  <div class=\"list-header-section flex justify-between\">\r\n    <div class=\"w-full flex justify-between\" v-if=\"fileCheckList.length === 0\">\r\n      <Breadcrumb v-if=\"showBreadcrumbValues.includes(teamStore.getActiveMenu.value)\"\r\n        @handleBreadcrumbClick=\"handleBreadcrumbClick\"\r\n      />\r\n      <span class=\"root-title\" v-else>{{ teamStore.getActiveMenu.text }}</span>\r\n      <Actions\r\n        @handleClearAll=\"handleClearAll\"\r\n        @handleSearch=\"handleSearch\"\r\n        @handleSort=\"handleSort\"\r\n        :sortType=\"sortType\"\r\n      />\r\n    </div>\r\n    <MultipleSelect\r\n      :multipleList=\"fileCheckList\"\r\n      :defaultChecked=\"fileCheckList.length === getWebsiteList.length\"\r\n      :checkedTotal=\"fileCheckList.length\"\r\n      @checkAll=\"handleCheckAll\"\r\n      @close=\"handleCloseMultiple\"\r\n      v-else\r\n    />\r\n  </div>\r\n\r\n  <div class=\"menu-view-container\">\r\n    <div class=\"menu-scrollbar\" v-if=\"list.length > 0\">\r\n      <p class=\"menu-title\" v-if=\"getFolderList.length > 0\">文件夹</p>\r\n      <el-row :gutter=\"15\">\r\n        <el-col\r\n          v-for=\"item in getFolderList\"\r\n          :key=\"item.id\"\r\n          class=\"relative\"\r\n          :xs=\"8\"\r\n          :sm=\"6\"\r\n          :md=\"4\"\r\n          :lg=\"3\"\r\n          :xl=\"3\"\r\n        >\r\n          <Folder :folder-item=\"item\" :can-click=\"true\" :item-menu-list=\"commonFolderMenuList(userAuth.hasAuthToEditSpace)\" @handleFolderClick=\"handleFolderClick\"/>\r\n        </el-col>\r\n      </el-row>\r\n      <p class=\"menu-title\" v-if=\"getWebsiteList.length > 0\">文件</p>\r\n      <el-checkbox-group v-model=\"fileCheckList\" @change=\"handleFileCheckChange\">\r\n        <el-row :gutter=\"15\">\r\n          <el-col\r\n            v-for=\"item in getWebsiteList\"\r\n            :key=\"item.id\"\r\n            class=\"relative\"\r\n            :xs=\"12\"\r\n            :sm=\"8\"\r\n            :md=\"6\"\r\n            :lg=\"4\"\r\n            :xl=\"4\"\r\n          >\r\n            <Website :item-menu-list=\"commonWebsiteMenuList(userAuth.hasAuthToEditSpace)\" :website-item=\"item\" :show-checkbox=\"userAuth.hasAuthToEditSpace\"\r\n            :checked-state=\"fileCheckList.length > 0\"/>\r\n          </el-col>\r\n        </el-row>\r\n      </el-checkbox-group>\r\n    </div>\r\n    <div v-else class=\"menu-scrollbar flex justify-center items-center\">\r\n      <el-empty description=\"空空如也\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport Folder from '@/components/ContentElement/Folder.vue'\r\nimport Website from '@/components/ContentElement/Website.vue'\r\nimport Breadcrumb from '@/components/ContentElement/Breadcrumb.vue'\r\nimport {useConst} from '@/components/ContentElement/const'\r\nimport Actions from '@/components/ContentElement/actions/index.vue'\r\nimport MultipleSelect from '@/components/ContentElement/multiple-select/index.vue'\r\nimport {computed, onBeforeUnmount, reactive, ref, unref, watch} from \"vue\";\r\nimport {DataTypeEnum,FileItem} from \"@/components/ContentElement/types\";\r\nimport {SortTypeEnum} from \"@/api/model/filesModel\";\r\nimport {getSearchParams} from \"@/utils/form\";\r\nimport {useLocalStorage} from \"@/utils/cache\";\r\nimport {SORT_TYPE_KET} from \"@/enums/keyEnum\";\r\nimport {useTeamStore} from \"@/store/modules/team\";\r\nimport { useFilesStore } from '@/store/modules/files'\r\nimport {showBreadcrumbValues, teamHasSpaceMenuValues} from \"@/enums/menuValueEnum\";\r\nimport {fetchList} from \"@/api/fetchs/files\";\r\nimport {useEmit, useOffEmitFn, useOnEmitFn} from \"@/utils/useEmitter\";\r\nimport {fetchTeamAndSpaceAuth} from \"@/api/fetchs/team\";\r\n\r\nconst {commonFolderMenuList, commonWebsiteMenuList} = useConst()\r\nconst teamStore = useTeamStore()\r\nconst filesStore = useFilesStore()\r\n\r\nconst sortType = ref<SortTypeEnum>(useLocalStorage.get(SORT_TYPE_KET) ?? SortTypeEnum.CUSTOM)\r\nconst fileCheckList = ref<string[]>([])\r\nconst list = ref<FileItem[]>([])\r\nconst listQuery = reactive({\r\n  teamId: teamStore.getActiveTeamId,\r\n  spaceId: teamStore.getActiveMenu.spaceId,\r\n  pid: 'root',\r\n  search: '',\r\n  sortType: useLocalStorage.get(SORT_TYPE_KET) ?? SortTypeEnum.CUSTOM\r\n})\r\n\r\nconst activeMenuValue = computed(() => teamStore.getActiveMenu.value)\r\nconst activeTeamSpaceId = computed(() => teamStore.getActiveMenu.spaceId)\r\n\r\nconst getFolderList = computed(() => unref(list).filter(v => v.dataType === DataTypeEnum.FOLDER))\r\nconst getWebsiteList = computed(() =>\r\n  unref(list).filter(v => v.dataType === DataTypeEnum.WEBSITE)\r\n)\r\n\r\nconst userAuth = ref<any>({\r\n  uid: '',\r\n  hasAuthToEditSpace: false\r\n})\r\n\r\nfunction handleBreadcrumbClick(id) {\r\n  let pid = id\r\n  if(pid?.startsWith('root:')) {\r\n    pid = 'root'\r\n  }\r\n  handleUpdateListByPid(pid)\r\n}\r\n\r\nfunction handleSearch(val) {\r\n  listQuery.search = val\r\n  getMySpaceFileList()\r\n}\r\nfunction handleSort(val) {\r\n  listQuery.sortType = val\r\n  useLocalStorage.set(SORT_TYPE_KET, val)\r\n  getMySpaceFileList()\r\n}\r\n// handleFileCheckChange\r\nfunction handleFileCheckChange() {\r\n  useOffEmitFn('handleUpdateTreeData')\r\n}\r\n// 全选\r\nfunction handleCheckAll(val) {\r\n  fileCheckList.value = val ? unref(getWebsiteList).map(v => v.id) : []\r\n}\r\n// 取消批量选择\r\nfunction handleCloseMultiple() {\r\n  fileCheckList.value = []\r\n}\r\n\r\nfunction handleUpdateListByPid(pid) {\r\n  listQuery.pid = pid\r\n  getMySpaceFileList()\r\n}\r\n\r\nfunction handleFolderClick() {\r\n  fileCheckList.value = []\r\n}\r\n\r\nuseOnEmitFn('handleUpdateList', getMySpaceFileList)\r\nuseOnEmitFn('handleUpdateListByPid', handleUpdateListByPid)\r\n\r\nonBeforeUnmount(() => {\r\n  useOffEmitFn('handleUpdateList')\r\n  useOffEmitFn('handleUpdateListByPid')\r\n})\r\n\r\nwatch(\r\n  () => teamStore.getActiveMenu,\r\n  () => {\r\n    fileCheckList.value = []\r\n\r\n    let pid = 'root'\r\n    let breadcrumb = filesStore.getFolderBreadcrumb\r\n    if(breadcrumb && breadcrumb.length > 0) {\r\n      let lastItemId = breadcrumb[breadcrumb.length - 1].id\r\n      if(!lastItemId?.startsWith('root')) {\r\n        // @ts-ignore\r\n        pid = lastItemId\r\n      }\r\n    }\r\n    handleGetTeamAndSpaceAuth()\r\n    handleUpdateListByPid(pid)\r\n  },\r\n  {\r\n    immediate: true\r\n  }\r\n)\r\n\r\n/* ================================== fetchs ================================== */\r\nasync function getMySpaceFileList() {\r\n  if(!teamHasSpaceMenuValues.includes(teamStore.getActiveMenu.value)) {\r\n    return\r\n  }\r\n\r\n  useEmit('handleChangeLoadingStatus', true)\r\n\r\n  try {\r\n    listQuery.spaceId = unref(activeTeamSpaceId)\r\n    const params = getSearchParams(listQuery)\r\n    const {data} = await fetchList(params)\r\n    list.value = data.folders.concat(data.files)\r\n  }finally {\r\n    useEmit('handleChangeLoadingStatus', false)\r\n  }\r\n}\r\n\r\nasync function handleGetTeamAndSpaceAuth() {\r\n  const {data} = await fetchTeamAndSpaceAuth(teamStore.getActiveTeamId, unref(activeTeamSpaceId))\r\n  userAuth.value.hasAuthToEditSpace = data.hasAuthToEditSpace\r\n  userAuth.value.uid = data.uid\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/components/ContentElement/content.scss';\r\n</style>\r\n","<template>\r\n  <div class=\"list-header-section flex justify-between\">\r\n    <div class=\"w-full flex justify-between\">\r\n      <span class=\"root-title\">{{ teamStore.getActiveMenu.text }}</span>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"menu-view-container\">\r\n    <div class=\"menu-scrollbar\" v-if=\"list.length > 0\">\r\n      <el-row :gutter=\"15\">\r\n        <el-col\r\n          v-for=\"item in getWebsiteList\"\r\n          :key=\"item.id\"\r\n          class=\"relative\"\r\n          :xs=\"12\"\r\n          :sm=\"8\"\r\n          :md=\"6\"\r\n          :lg=\"4\"\r\n          :xl=\"4\"\r\n        >\r\n          <Website :item-menu-list=\"websiteMenuList\" :website-item=\"item\" :show-checkbox=\"false\"/>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n    <div v-else class=\"menu-scrollbar flex justify-center items-center\">\r\n      <el-empty description=\"空空如也\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport Website from '@/components/ContentElement/Website.vue'\r\nimport {useConst} from '@/components/ContentElement/const'\r\nimport {computed, onBeforeUnmount, reactive, ref, unref, watch, watchEffect} from \"vue\";\r\nimport {DataTypeEnum,FileItem} from \"@/components/ContentElement/types\";\r\nimport {SortTypeEnum} from \"@/api/model/filesModel\";\r\nimport {getSearchParams} from \"@/utils/form\";\r\nimport {fetchCommonUseList, fetchRecentOpenList} from \"@/api/fetchs/teamNav\";\r\nimport {useLocalStorage} from \"@/utils/cache\";\r\nimport {SORT_TYPE_KET} from \"@/enums/keyEnum\";\r\nimport {useTeamStore} from \"@/store/modules/team\";\r\nimport {MenuValueEnum} from \"@/enums/menuValueEnum\";\r\nimport {useEmit, useOffEmitFn, useOnEmitFn} from \"@/utils/useEmitter\";\r\n\r\nconst {commonUseMenuList,recentOpenMenuList} = useConst()\r\nconst teamStore = useTeamStore()\r\n\r\nconst sortType = ref<SortTypeEnum>(useLocalStorage.get(SORT_TYPE_KET) ?? SortTypeEnum.CUSTOM)\r\nconst list = ref<FileItem[]>([])\r\nconst listQuery = reactive({\r\n  teamId: teamStore.getActiveTeamId,\r\n  spaceId: teamStore.getActiveMenu.spaceId,\r\n  pid: 'root',\r\n  search: '',\r\n  sortType: useLocalStorage.get(SORT_TYPE_KET) ?? SortTypeEnum.CUSTOM\r\n})\r\n\r\nconst activeMenuValue = computed(() => teamStore.getActiveMenu.value)\r\n\r\nconst websiteMenuList = computed(() => {\r\n  if (unref(activeMenuValue) == MenuValueEnum.MY_COMMON_USE.valueOf()) {\r\n    return commonUseMenuList\r\n  }\r\n  if (unref(activeMenuValue) == MenuValueEnum.RECENT_OPEN.valueOf()) {\r\n    return recentOpenMenuList\r\n  }\r\n})\r\n\r\nconst getWebsiteList = computed(() =>\r\n  unref(list).filter(v => v.dataType === DataTypeEnum.WEBSITE)\r\n)\r\n\r\nfunction handleSearch(val) {\r\n  listQuery.search = val\r\n  getList()\r\n}\r\nfunction handleSort(val) {\r\n  listQuery.sortType = val\r\n  useLocalStorage.set(SORT_TYPE_KET, val)\r\n  getList()\r\n}\r\n\r\nasync function getList() {\r\n  try {\r\n    useEmit('handleChangeLoadingStatus', true)\r\n\r\n    if (unref(activeMenuValue) == MenuValueEnum.MY_COMMON_USE.valueOf()) {\r\n      await getCommonUseList()\r\n    }\r\n    if (unref(activeMenuValue) == MenuValueEnum.RECENT_OPEN.valueOf()) {\r\n      await getRecentOpenList()\r\n    }\r\n  }finally {\r\n    useEmit('handleChangeLoadingStatus', false)\r\n  }\r\n}\r\n\r\nuseOnEmitFn('handleUpdateList', getList)\r\n\r\nonBeforeUnmount(() => {\r\n  useOffEmitFn('handleUpdateList')\r\n})\r\n\r\nwatchEffect(() => {\r\n  getList()\r\n})\r\n\r\n/* ================================== fetchs ================================== */\r\nasync function getCommonUseList() {\r\n  const params = getSearchParams(listQuery)\r\n  const {data} = await fetchCommonUseList(params)\r\n  list.value = data.folders.concat(data.files)\r\n  sortType.value = data.sortType\r\n}\r\n\r\nasync function getRecentOpenList() {\r\n  const params = {teamId: teamStore.getActiveTeamId}\r\n  const {data} = await fetchRecentOpenList(params)\r\n  list.value = data.folders.concat(data.files)\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@/components/ContentElement/content.scss';\r\n</style>\r\n"],"names":["emit","__emit","props","__props","filesStore","useFilesStore","getStartItem","getEnterId","getEnterType","handleMousedown","handleMouseenter","handleMouseleave","handleMousemove","useMouseEvent","getNext","item","DataTypeEnum","useEmit","teamStore","useTeamStore","menuList","computed","_a","MenuValueEnum","menus","index","v","DropdownEnum","addCommonUseMenu","handleFileClick","handleSaveOpenHistory","navId","__async","param","getSearchParams","fetchAddOpenHistory","list","handleBreadcrumbClick","useActionsConst","SortTypeEnum","iconSize","actionSearch","ref","searchValue","showSearchInput","getFolderMenu","getActionFileListType","handleSetActionFileListType","useFiles","showDelete","unref","showSearch","showSort","getSortTypes","sortRadioValue","handleClearAll","handleSearchIconClick","onClickOutside","handleSearch","handleSort","handleListView","view","checkAll","checkLength","cloneMoveData","handleCloneMoveVisible","handleCloneMoveRes","useCloneMoveForm","watchEffect","handleCheckAll","val","handleCloneMove","handleDelete","handleTrash","handleClose","commonFolderMenuList","commonWebsiteMenuList","useConst","sortType","useLocalStorage","SORT_TYPE_KET","fileCheckList","listQuery","reactive","_b","activeTeamSpaceId","getFolderList","getWebsiteList","userAuth","id","pid","handleUpdateListByPid","getMySpaceFileList","handleFileCheckChange","useOffEmitFn","handleCloseMultiple","handleFolderClick","useOnEmitFn","onBeforeUnmount","watch","breadcrumb","lastItemId","handleGetTeamAndSpaceAuth","teamHasSpaceMenuValues","params","data","fetchList","fetchTeamAndSpaceAuth","commonUseMenuList","recentOpenMenuList","activeMenuValue","websiteMenuList","getList","getCommonUseList","getRecentOpenList","fetchCommonUseList","fetchRecentOpenList"],"mappings":"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"}
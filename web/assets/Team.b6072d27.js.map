{"version":3,"file":"Team.b6072d27.js","sources":["../../node_modules/@element-plus/icons-vue/dist/es/avatar.mjs","../../node_modules/@element-plus/icons-vue/dist/es/edit-pen.mjs","../../node_modules/@element-plus/icons-vue/dist/es/info-filled.mjs","../../node_modules/@element-plus/icons-vue/dist/es/more-filled.mjs","../../node_modules/@element-plus/icons-vue/dist/es/question-filled.mjs","../../node_modules/@element-plus/icons-vue/dist/es/user.mjs","../../node_modules/@element-plus/icons-vue/dist/es/warning-filled.mjs","../../src/layout/default/team/useTeamSpaceForm.ts","../../src/layout/default/team/TeamSpaceForm.vue","../../src/components/SingleBottom/member/MemberForm.vue","../../src/components/SingleBottom/teamInfo/useTeamInfoForm.ts","../../src/components/SingleBottom/teamInfo/TeamMemberInfoForm.vue","../../src/components/SingleBottom/teamInfo/TeamInfoForm.vue","../../src/components/SingleBottom/me/MeForm.vue","../../src/components/SingleBottom/member/useMemberForm.ts","../../src/components/SingleBottom/me/useMeForm.ts","../../src/components/SingleBottom/TeamBottom.vue","../../src/views/team/Team.vue"],"sourcesContent":["import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"Avatar\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704l116.736-175.104zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar avatar = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { avatar as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"EditPen\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  d: \"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z\",\n  fill: \"currentColor\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar editPen = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { editPen as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"InfoFilled\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar infoFilled = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { infoFilled as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"MoreFilled\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar moreFilled = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { moreFilled as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"QuestionFilled\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar questionFilled = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { questionFilled as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"User\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar user = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { user as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"WarningFilled\"\n});\nconst _hoisted_1 = {\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar warningFilled = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { warningFilled as default };\n","import {reactive} from 'vue'\r\n\r\nexport function useTeamSpaceForm() {\r\n  const teamSpaceData = reactive({\r\n    visible: false,\r\n    title: '创建空间',\r\n    type: 'add'\r\n  })\r\n\r\n  function handleTeamSpaceVisible(text, type = 'add') {\r\n    teamSpaceData.type = type\r\n    teamSpaceData.title = text\r\n    teamSpaceData.visible = true\r\n  }\r\n\r\n  function handleTeamSpaceRes(val) {\r\n    if (val) {\r\n\r\n    }\r\n    teamSpaceData.visible = false\r\n  }\r\n\r\n  return {\r\n    teamSpaceData,\r\n    handleTeamSpaceVisible,\r\n    handleTeamSpaceRes\r\n  }\r\n}\r\n","<template>\r\n  <ElForm\r\n    ref=\"ruleFormRef\"\r\n    :model=\"form\"\r\n    label-position=\"right\"\r\n    label-width=\"100px\"\r\n    size=\"large\"\r\n    class=\"login-basic-form\"\r\n  >\r\n    <ElFormItem\r\n      label-width=\"0px\"\r\n      prop=\"name\"\r\n      :rules=\"[{ required: true, message: '空间名称不能为空' }]\"\r\n    >\r\n      <el-input\r\n        v-model.trim=\"form.name\"\r\n        placeholder=\"请输入空间名称\"\r\n        clearable\r\n        maxlength=\"20\"\r\n        show-word-limit\r\n      />\r\n    </ElFormItem>\r\n    <ElFormItem\r\n      label-width=\"0px\"\r\n      prop=\"desc\"\r\n    >\r\n      <el-input\r\n        v-model.trim=\"form.desc\"\r\n        placeholder=\"请输入空间描述\"\r\n        type=\"textarea\"\r\n        clearable\r\n        rows=\"4\"\r\n        resize=\"none\"\r\n        maxlength=\"128\"\r\n        show-word-limit\r\n      />\r\n    </ElFormItem>\r\n    <div class=\"flex justify-end mt-10\">\r\n      <el-button type=\"primary\" @click=\"handleSure\">确定</el-button>\r\n      <el-button @click=\"handleClose\">取消</el-button>\r\n    </div>\r\n  </ElForm>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {fetchAddTeamSpace} from \"@/api/fetchs/team\";\r\nimport {ref, unref, watchEffect} from 'vue'\r\nimport {AddTeamSpaceParams} from \"@/api/model/teamModel\";\r\nimport {getSearchParams} from '@/utils/form'\r\nimport {useEmit} from '@/utils/useEmitter'\r\nimport {ElMessage} from \"element-plus\";\r\nimport {useTeamStore} from \"@/store/modules/team\";\r\n\r\nconst props = defineProps<{\r\n  defaultForm?: AddTeamSpaceParams\r\n}>()\r\nconst ruleFormRef = ref()\r\n\r\nconst teamStore = useTeamStore()\r\n\r\nconst form = ref<AddTeamSpaceParams>({\r\n  teamId: teamStore.getActiveTeamId,\r\n  name: '',\r\n  desc: ''\r\n})\r\n\r\nwatchEffect(() => {\r\n  if (props.defaultForm) {\r\n    const {...rest} = props.defaultForm\r\n    form.value = Object.assign({}, { ...rest})\r\n  } else {\r\n    form.value = {\r\n      teamId: teamStore.getActiveTeamId,\r\n      name: '',\r\n      desc: ''\r\n    }\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['formResponse'])\r\n\r\nfunction handleSure() {\r\n  ruleFormRef.value.validate(valid => {\r\n    if (valid) {\r\n      handleAddTeamSpaceApi()\r\n      emit('formResponse', true)\r\n    }\r\n  })\r\n}\r\n\r\nfunction handleClose() {\r\n  emit('formResponse', false)\r\n}\r\n\r\n/* ================================== fetchs ================================== */\r\nasync function handleAddTeamSpaceApi() {\r\n  const params = getSearchParams(form.value)\r\n  await fetchAddTeamSpace(params)\r\n  ElMessage.success('添加成功')\r\n  useEmit('handleUpdateTeamSpaceList')\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n","<template>\n  <el-tabs v-model=\"activeTabName\">\n    <el-tab-pane label=\"链接邀请\" name=\"inviteWithLink\">\n      <ElForm\n        ref=\"ruleFormRef\"\n        :model=\"form\"\n        label-position=\"right\"\n        label-width=\"100px\"\n        size=\"large\"\n        class=\"login-basic-form\"\n      >\n        <ElFormItem label-width=\"0\">\n          <el-switch size=\"small\" v-model=\"form.isOpen\" @change=\"handleSetInviteLink\"/>&nbsp;{{ tip }}\n        </ElFormItem>\n        <ElFormItem label-width=\"0\" v-if=\"form.isOpen\">\n          <div style=\"display: flex;width: 100%;\">\n            <div>链接有效期：</div>\n            <el-select v-model=\"form.validDays\" @change=\"handleSetInviteLink\">\n              <el-option label=\"永久有效\" v-bind:value='-1'/>\n              <el-option label=\"1天\" v-bind:value='1'/>\n              <el-option label=\"3天\" v-bind:value='3'/>\n              <el-option label=\"7天\" v-bind:value='7'/>\n              <el-option label=\"30天\" v-bind:value='30'/>\n            </el-select>\n          </div>\n        </ElFormItem>\n        <ElFormItem label-width=\"0\" v-if=\"form.isOpen\">\n          <div style=\"display: flex;width: 100%\">\n            <el-input disabled v-model=\"inviteLink\" style=\"margin-right: 12px;\"/>\n            <el-button type=\"primary\" plain @click=\"reset\">重置</el-button>\n            <el-button type=\"primary\" @click=\"copy\">复制链接</el-button>\n          </div>\n          <span style=\"color: #F56C6C;font-size: 12px;\" v-if=\"showInvalidWarn\">链接已失效，请重置</span>\n        </ElFormItem>\n      </ElForm>\n    </el-tab-pane>\n    <el-tab-pane label=\"手机号/邮箱添加\" name=\"inviteWithPhoneEmail\">功能开发中，请先通过链接邀请</el-tab-pane>\n  </el-tabs>\n</template>\n\n<script setup lang=\"ts\">\nimport {ElMessage, ElMessageBox} from 'element-plus'\nimport {computed, ref} from 'vue'\nimport {MemberForm} from './useMemberForm'\nimport {getSearchParams} from '@/utils/form'\nimport {useTeamStore} from \"@/store/modules/team\";\nimport {fetchInviteInfo, fetchSetInviteLink} from \"@/api/fetchs/team\";\nimport useClipboard from 'vue-clipboard3'\n\nconst teamStore = useTeamStore()\nconst ruleFormRef = ref()\nconst form = ref<MemberForm>({\n  teamId: teamStore.getActiveTeamId,\n  isOpen: false,\n  validDays: -1\n})\n\nconst { toClipboard } = useClipboard()\n\nconst activeTabName = ref<string>('inviteWithLink')\n\nconst inviteLink = ref<string>('')\nconst showInvalidWarn = ref(false)\n\nconst tip = computed(() => {\n  if (form.value.isOpen) {\n    return '关闭邀请链接，邀请链接将失效'\n  } else {\n    return '开启邀请链接，成员访问链接可申请加入团队'\n  }\n})\n\nfunction reset() {\n  ElMessageBox.confirm('重置后，之前的邀请链接将失效！', '注意', {\n    confirmButtonText: '确认',\n    cancelButtonText: '取消',\n    type: 'warning'\n  })\n    .then(() => {\n      handleSetInviteLink()\n    })\n    .catch(() => {\n\n    })\n}\n\nasync function copy() {\n  await toClipboard(inviteLink.value)\n  ElMessage.success('复制成功')\n}\n\n/* ================================== fetchs ================================== */\nasync function handleSetInviteLink() {\n  const params = getSearchParams(form.value)\n  const {data} = await fetchSetInviteLink(params)\n  inviteLink.value = window.location.origin + '/team/invitation/index?inviteId=' + data\n  showInvalidWarn.value = false\n  ElMessage.success('设置成功')\n}\n\nasync function handleGetInviteInfo() {\n  const {data} = await fetchInviteInfo(teamStore.getActiveTeamId)\n  form.value.isOpen = data.inviteLinkOpen == 1\n  form.value.validDays = data.inviteLinkDays || -1\n  showInvalidWarn.value = !data.inviteLinkValid\n  inviteLink.value = window.location.origin + '/team/invitation/index?inviteId=' + data.inviteLink\n}\n\nhandleGetInviteInfo()\n</script>\n<style lang=\"scss\" scoped>\n:deep(.el-tabs__content) {\n  height: 300px;\n}\n</style>\n","import {reactive} from 'vue'\n\nexport interface SpaceMemberRoleForm {\n  spaceId: string\n  spaceRole: string\n}\n\nexport interface TeamMemberInfoForm {\n  teamId: string\n  uid: string\n  role: string\n  teamNickname: string\n  spaceRoles: SpaceMemberRoleForm[]\n}\n\nexport function useTeamInfoForm() {\n  const teamInfoData = reactive({\n    visible: false,\n    title: '团队信息',\n    type: 'add'\n  })\n\n  function handleTeamInfoVisible(text = '团队信息', type = 'add') {\n    teamInfoData.type = type\n    teamInfoData.title = text\n    teamInfoData.visible = true\n  }\n\n  // 操作\n  function handleTeamInfoRes(val) {\n    if (val) {\n      console.log('操作成功后...')\n    }\n    teamInfoData.visible = false\n  }\n\n  return {\n    teamInfoData,\n    handleTeamInfoVisible,\n    handleTeamInfoRes\n  }\n}\n\nexport function useTeamMemberInfoForm() {\n  const teamMemberInfoData = reactive({\n    visible: false,\n    title: '设置成员权限',\n    type: 'add',\n    uid: ''\n  })\n\n  function handleTeamMemberInfoVisible(uid, text = '设置成员权限', type = 'add') {\n    console.log('uid...',uid)\n    teamMemberInfoData.type = type\n    teamMemberInfoData.title = text\n    teamMemberInfoData.visible = true\n    teamMemberInfoData.uid = uid\n  }\n\n  // 操作\n  function handleTeamMemberInfoRes(val) {\n    if (val) {\n      console.log('操作成功后...')\n    }\n    teamMemberInfoData.visible = false\n  }\n\n  return {\n    teamMemberInfoData,\n    handleTeamMemberInfoVisible,\n    handleTeamMemberInfoRes\n  }\n}\n","<template>\n  <ElForm\n    ref=\"ruleFormRef\"\n    :model=\"form\"\n    label-position=\"right\"\n    label-width=\"100px\"\n    size=\"large\"\n    class=\"login-basic-form\"\n  >\n    <ElFormItem\n      prop=\"role\"\n      label=\"团队权限\"\n      :rules=\"[{ required: true, message: '请选择团队权限' }]\"\n    >\n      <el-select v-model=\"form.role\" placeholder=\"请选择团队权限\" style=\"width: 100%;\" :disabled=\"props.isSelf\">\n        <el-option label=\"所有者\" value='OWNER' disabled/>\n        <el-option label=\"团队管理员\" value='ADMIN' :disabled=\"props.loginUserTeamRole === 'ADMIN'\"/>\n        <el-option label=\"普通成员\" value='NORMAL'/>\n      </el-select>\n    </ElFormItem>\n    <ElFormItem\n      prop=\"teamNickname\"\n      label=\"团队内昵称\"\n    >\n      <el-input\n        v-model.trim=\"form.teamNickname\"\n        placeholder=\"请输入团队内昵称，便于协作\"\n        clearable\n        maxlength=\"20\"\n        show-word-limit\n      />\n    </ElFormItem>\n    <div style=\"margin-bottom: 5px;\">空间权限</div>\n    <el-table :data=\"form.spaceRoles\" height=\"410\" empty-text=\"暂无数据\" border stripe disabled size=\"small\">\n      <el-table-column prop=\"spaceName\" label=\"空间\"/>\n      <el-table-column prop=\"spaceRole\">\n        <template #header>\n          <div style=\"display: flex;align-items: center;\">\n            <span>权限</span>&nbsp;\n            <el-tooltip\n              class=\"box-item\"\n              effect=\"dark\"\n              content=\"团队所有者及团队管理员拥有所有空间的管理权限\"\n              placement=\"right\"\n            >\n              <el-button :icon=\"QuestionFilled\" link></el-button>\n            </el-tooltip>\n          </div>\n        </template>\n        <template #default=\"scope\">\n          <el-popover\n            placement=\"bottom\"\n            :width=\"180\"\n            trigger=\"click\"\n            popper-class=\"space-auth-popper\"\n            :disabled=\"disablePopover(scope.row.spaceRole) || ['OWNER','ADMIN'].includes(form.role)\"\n          >\n            <template #reference>\n              <el-button link>\n                {{scope.row.spaceRole === 'OWNER' ? '拥有者' : scope.row.spaceRole === 'EDITOR' ? '可编辑' : scope.row.spaceRole === 'READER' ? '可查看' : '禁止访问'}}\n                <el-icon class=\"el-icon--right\">\n                  <ArrowDown v-if=\"!disablePopover(scope.row.spaceRole)\"/>\n                </el-icon>\n              </el-button>\n            </template>\n            <div\n              :class=\"['mb-2','auth-btn',{'auth-btn-active':scope.row.spaceRole == item.role}]\"\n              v-for=\"item in spaceRoleInfos\"\n              :key=\"item.name\"\n              @click=\"handleSetSpaceMemeber(scope.row, item.role)\"\n            >\n              <div class=\"auth-bth-first\">{{item.name}}</div>\n              <div class=\"auth-bth-second\">{{item.desc}}</div>\n            </div>\n          </el-popover>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"flex justify-end mt-10\">\n      <el-button type=\"danger\" @click=\"handleRemoveTeamMember\" v-if=\"form.role !== 'OWNER'\">移除成员</el-button>\n      <el-button type=\"primary\" @click=\"handleSetTeamMemberAndSpaceRoleInfo\">保存</el-button>\n      <el-button @click=\"handleClose\">取消</el-button>\n    </div>\n  </ElForm>\n</template>\n\n<script setup lang=\"ts\">\nimport {ref} from 'vue'\nimport {useTeamStore} from \"@/store/modules/team\";\nimport {\n  fetchRemoveTeamMemeber,\n  fetchSetTeamMemberAndSpaceRoleInfo,\n  fetchTeamMemberAndSpaceRoleInfo\n} from \"@/api/fetchs/team\";\nimport {QuestionFilled, ArrowDown} from '@element-plus/icons-vue'\nimport {useAuthForm} from \"@/components/SingleMenu/auth/useAuthForm\";\nimport {TeamMemberInfoForm} from \"@/components/SingleBottom/teamInfo/useTeamInfoForm\";\nimport {getSearchParams} from \"@/utils/form\";\nimport {ElMessage} from \"element-plus/es\";\n\nconst props = defineProps<{\n  uid: string\n  isSelf: boolean\n  loginUserTeamRole: string\n}>()\n\nconst teamStore = useTeamStore()\nconst {spaceRoleInfos} = useAuthForm()\nconst emit = defineEmits(['formResponse'])\n\nconst form = ref<TeamMemberInfoForm>({\n  teamId: teamStore.getActiveTeamId,\n  role: 'OWNER',\n  teamNickname: '',\n  uid: '',\n  spaceRoles: []\n})\n\nconst disablePopover = (role) => {\n  return role === 'OWNER'\n}\n\nfunction handleSetSpaceMemeber(row, role) {\n  row.spaceRole = role\n}\n\nfunction handleClose() {\n  emit('formResponse', false)\n}\n\n/* ================================== fetchs ================================== */\nasync function handleGetTeamMemberAndSpaceRoleInfo() {\n  const {data} = await fetchTeamMemberAndSpaceRoleInfo(teamStore.getActiveTeamId, props.uid)\n\n  form.value.role = data.role\n  form.value.teamNickname = data.teamNickname\n  form.value.uid = data.uid\n  form.value.spaceRoles = data.spaceRoles\n}\n\nhandleGetTeamMemberAndSpaceRoleInfo()\n\nasync function handleSetTeamMemberAndSpaceRoleInfo() {\n  const {data} = await fetchSetTeamMemberAndSpaceRoleInfo(form.value)\n  if(data) {\n    ElMessage.success('保存成功')\n    emit('formResponse', true)\n  }\n}\n\nasync function handleRemoveTeamMember() {\n  let json = {\n    teamId: teamStore.getActiveTeamId,\n    uid: form.value.uid\n  }\n  const params = getSearchParams(json)\n  const {data} = await fetchRemoveTeamMemeber(params)\n  if(data) {\n    ElMessage.success('移除成功')\n    emit('formResponse', true)\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n.el-popover.space-auth-popper {\n  padding: 4px;\n\n  .auth-btn {\n    padding: 6px 10px;\n    border-radius: 8px;\n\n    &:hover {\n      background-color: #e9e9eb;\n    }\n  }\n\n  .auth-btn-active {\n    background-color: #e9e9eb;\n  }\n\n  .auth-btn-first {\n    font-size: 13px;\n    font-weight: 400;\n    margin-bottom: 4px;\n  }\n\n  .auth-bth-second {\n    font-size: 12px;\n    color: #9aa5b8;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n:deep(.el-pagination .el-select .el-input) {\n  width: 100px;\n}\n\n.auth-table {\n  margin-bottom: 10px;\n}\n\n.team-info {\n  margin: 10px 0;\n  width: 100%;\n\n  tr {\n    line-height: 35px;\n  }\n\n  td:first-child {\n    width: 100px;\n    color: #9aa5b8;\n  }\n}\n</style>\n","<template>\n  <el-tabs v-model=\"activeTabName\">\n    <el-tab-pane label=\"团队信息\" name=\"teamInfo\">\n      <div style=\"display: flex;align-items: center;\">\n        <div\n          style=\"width: 28px;height: 28px;background-color: #3B82F6;display: flex;justify-content: center;align-items: center;border-radius: 4px;\">\n          <span style=\"color: #ffffff;font-size: 18px;\">{{ teamInfo.name?.substring(0, 1) }}</span>\n        </div>\n        <span style=\"color: #101010;font-size: 15px;\">&nbsp;{{ teamInfo.name }}&nbsp;</span>\n      </div>\n      <table class=\"team-info\">\n        <tr>\n          <td>当前版本</td>\n          <td>\n            <el-tag type=\"primary\">{{ teamInfo.vipName }}</el-tag>\n          </td>\n        </tr>\n        <tr>\n          <td>创建者</td>\n          <td>{{ teamInfo.creator }}</td>\n        </tr>\n        <tr>\n          <td>创建时间</td>\n          <td>{{ teamInfo.createTime }}</td>\n        </tr>\n        <tr>\n          <td>到期时间</td>\n          <td>+∞</td>\n        </tr>\n        <tr>\n          <td>成员规模</td>\n          <td>{{ teamInfo.scaleName }}</td>\n        </tr>\n        <tr>\n          <td>业务类型</td>\n          <td>{{ teamInfo.businessType }}</td>\n        </tr>\n        <tr>\n          <td>成员人数</td>\n          <td>{{ teamInfo.teamMemberCount }}</td>\n        </tr>\n<!--        <tr v-if=\"teamPublishInfo.publishUrl1\">-->\n<!--          <td>独立访问地址1</td>-->\n<!--          <td>-->\n<!--            <el-button text>{{teamPublishInfo.publishUrl1}}</el-button>-->\n<!--            <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl1\" @click=\"copyUrl(teamPublishInfo.publishUrl1)\">复制</el-button>-->\n<!--            <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl1\" @click=\"openUrl(teamPublishInfo.publishUrl1)\">打开</el-button>-->\n<!--          </td>-->\n<!--        </tr>-->\n        <tr v-if=\"teamPublishInfo.publishUrl2\">\n          <td>访问地址</td>\n          <td>\n            <el-button text>{{teamPublishInfo.publishUrl2}}</el-button>\n            <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl2\" @click=\"copyUrl(teamPublishInfo.publishUrl2)\">复制</el-button>\n            <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl2\" @click=\"openUrl(teamPublishInfo.publishUrl2)\">打开</el-button>\n          </td>\n        </tr>\n      </table>\n    </el-tab-pane>\n    <el-tab-pane label=\"成员/权限\" name=\"member\" v-if=\"['OWNER','ADMIN'].includes(userAuth.teamRole)\">\n      <div v-loading=\"loading\">\n        <el-input v-model=\"queryName\" size=\"large\" placeholder=\"搜索成员\" :prefix-icon=\"Search\" clearable\n                  @input=\"handleGetTeamMemberPage()\"/>\n        <el-table :data=\"tableData\" empty-text=\"无数据\" height=\"500\" class=\"auth-table\">\n          <el-table-column prop=\"nickname\" label=\"成员\"/>\n          <el-table-column prop=\"teamNickname\" label=\"团队昵称\"/>\n          <el-table-column prop=\"joinTime\" align=\"center\" label=\"加入时间\"/>\n          <el-table-column prop=\"role\" label=\"团队权限\" align=\"center\" :formatter=\"roleFormatter\" width=\"80px\"/>\n          <el-table-column prop=\"setting\" label=\"设置\" align=\"center\" width=\"60px\">\n            <template #default=\"scope\">\n              <el-button type=\"primary\" link :icon=\"Tools\" @click=\"handleTeamMemberInfoVisible(scope.row.uid)\"\n                         :disabled=\"userAuth.teamRole === 'ADMIN' && ['OWNER','ADMIN'].includes(scope.row.role) && scope.row.uid !== userAuth.uid\"/>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-pagination\n          v-model:current-page=\"currentPage\"\n          v-model:page-size=\"pageSize\"\n          background\n          :page-sizes=\"[10, 20, 30, 40, 50]\"\n          layout=\"->, total, sizes, prev, pager, next\"\n          :total=\"totalCount\"\n          :pager-count=\"5\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-tab-pane>\n    <el-tab-pane label=\"发布配置\" name=\"publish\" v-if=\"['OWNER','ADMIN'].includes(userAuth.teamRole)\">\n      <ElForm\n        ref=\"publishFormRef\"\n        :model=\"teamPublishForm\"\n        label-position=\"right\"\n        label-width=\"140px\"\n        class=\"login-basic-form publish-form\"\n      >\n        <ElFormItem\n          prop=\"published\"\n        >\n          <template #label>\n            <span>是否发布</span>\n            <el-tooltip\n              effect=\"dark\"\n              content=\"发布后，可生成独立的访问地址，团队或非团队成员都可以访问\"\n              placement=\"right\"\n            >\n              <el-button :icon=\"QuestionFilled\" link></el-button>\n            </el-tooltip>\n          </template>\n          <el-switch v-model=\"teamPublishForm.published\" @change=\"handleSwitchPublished()\"/>\n        </ElFormItem>\n        <ElFormItem\n          prop=\"needLogin\"\n        >\n          <template #label>\n            <span>是否需要登录</span>\n            <el-tooltip\n              effect=\"dark\"\n              content=\"开启后，只有先登录才能访问发布后的地址\"\n              placement=\"right\"\n            >\n              <el-button :icon=\"QuestionFilled\" link></el-button>\n            </el-tooltip>\n          </template>\n          <el-switch v-model=\"teamPublishForm.needLogin\" @change=\"handleSwitchOther()\"/>\n        </ElFormItem>\n        <ElFormItem\n          prop=\"checkAuth\"\n        >\n          <template #label>\n            <span>是否需要权限控制</span>\n            <el-tooltip\n              effect=\"dark\"\n              content=\"开启后，只有该团队内的成员才能访问\"\n              placement=\"right\"\n            >\n              <el-button :icon=\"QuestionFilled\" link></el-button>\n            </el-tooltip>\n          </template>\n          <el-switch v-model=\"teamPublishForm.checkAuth\" @change=\"handleSwitchOther()\"/>\n        </ElFormItem>\n<!--        <ElFormItem-->\n<!--          prop=\"showAd\"-->\n<!--        >-->\n<!--          <template #label>-->\n<!--            <span>是否显示广告</span>-->\n<!--            <el-tooltip-->\n<!--              effect=\"dark\"-->\n<!--              content=\"开启后，将在独立访问地址页面中显示广告信息（尚未开放）\"-->\n<!--              placement=\"right\"-->\n<!--            >-->\n<!--              <el-button :icon=\"QuestionFilled\" link></el-button>-->\n<!--            </el-tooltip>-->\n<!--          </template>-->\n<!--          <el-switch v-model=\"teamPublishForm.showAd\" @change=\"handleSwitchOther()\"/>-->\n<!--        </ElFormItem>-->\n<!--        <ElFormItem-->\n<!--          prop=\"showAd\"-->\n<!--          label=\"独立访问地址1\"-->\n<!--        >-->\n<!--          <el-button text>{{teamPublishInfo.publishUrl1}}</el-button>-->\n<!--          <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl1\" @click=\"copyUrl(teamPublishInfo.publishUrl1)\">复制</el-button>-->\n<!--          <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl1\" @click=\"openUrl(teamPublishInfo.publishUrl1)\">打开</el-button>-->\n<!--        </ElFormItem>-->\n        <ElFormItem\n          prop=\"publishUrl2\"\n          label=\"访问地址\"\n        >\n          <el-button text>{{teamPublishInfo.publishUrl2}}</el-button>\n          <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl2\" @click=\"copyUrl(teamPublishInfo.publishUrl2)\">复制</el-button>\n          <el-button type=\"primary\" link v-if=\"teamPublishInfo.publishUrl2\" @click=\"openUrl(teamPublishInfo.publishUrl2)\">打开</el-button>\n        </ElFormItem>\n      </ElForm>\n    </el-tab-pane>\n    <el-tab-pane label=\"团队设置\" name=\"settings\" v-if=\"['OWNER','ADMIN'].includes(userAuth.teamRole)\">\n      <div class=\"mb-3\" style=\"display: flex;align-items: center;\">\n        <el-icon>\n          <InfoFilled/>\n        </el-icon>&nbsp;\n        <span>基本信息</span>\n      </div>\n      <div style=\"border: 1px solid #dcdfe6;border-radius:6px;padding: 20px;\">\n        <ElForm\n          ref=\"ruleFormRef\"\n          :model=\"teamSettingForm\"\n          label-position=\"right\"\n          label-width=\"120px\"\n          size=\"large\"\n          class=\"login-basic-form\"\n        >\n          <ElFormItem\n            prop=\"teamName\"\n            label=\"团队名称\"\n          >\n            <el-input\n              v-model.trim=\"teamSettingForm.teamName\"\n              placeholder=\"请输入团队名称\"\n              class=\"some-input\"\n              :disabled=\"editTeamDisabled\"\n            >\n              <template #suffix>\n                <el-button :type=\"editTeamDisabled ? '' : 'primary'\" @click=\"handleEditTeamName()\">\n                  {{ editTeamDisabled ? '编辑' : '保存' }}\n                </el-button>\n              </template>\n            </el-input>\n          </ElFormItem>\n          <ElFormItem\n            prop=\"teamNickname\"\n            label=\"我的团队内昵称\"\n          >\n            <el-input\n              v-model.trim=\"teamSettingForm.teamNickname\"\n              placeholder=\"请输入团队内昵称，便于协作\"\n              class=\"some-input\"\n              :disabled=\"editTeamNicknameDisabled\"\n            >\n              <template #suffix>\n                <el-button :type=\"editTeamNicknameDisabled ? '' : 'primary'\" @click=\"handleEditTeamNickame()\">\n                  {{ editTeamNicknameDisabled ? '编辑' : '保存' }}\n                </el-button>\n              </template>\n            </el-input>\n          </ElFormItem>\n        </ElForm>\n      </div>\n      <div class=\"mb-3 mt-3\" style=\"color: #faad14;display: flex;align-items: center;\">\n        <el-icon>\n          <WarningFilled/>\n        </el-icon>&nbsp;\n        <span>危险区域</span>\n        <span style=\"color: #c8c9cc;font-size: 10px;\">（只有团队所有者才能操作）</span>\n      </div>\n      <div style=\"border: 1px solid #f3d19e;border-radius:6px;padding: 20px;\">\n        <ElForm\n          ref=\"ruleFormRef\"\n          :model=\"teamSettingForm\"\n          label-position=\"right\"\n          label-width=\"120px\"\n          size=\"large\"\n          class=\"login-basic-form\"\n        >\n          <ElFormItem\n            prop=\"teamName\"\n            label=\"移交\"\n          >\n            <el-select v-model=\"teamSettingForm.ownerUid\" placeholder=\"将团队的所有者权限移交给其他成员\"\n                       style=\"width: 100%;\" @change=\"handleTeamMemberChange\" :disabled=\"userAuth.teamRole !== 'OWNER'\">\n              <el-option\n                v-for=\"item in teamMemberList\"\n                :key=\"item.uid\"\n                :label=\"(item.teamNickname ? item.teamNickname : item.nickname) + ' (@' + item.nickname + ')'\"\n                :value=\"item.uid\"\n              />\n            </el-select>\n          </ElFormItem>\n          <ElFormItem\n            prop=\"teamNickname\"\n            label=\"解散团队\"\n          >\n            <el-input\n              placeholder=\"务必谨慎，解散后无法找回\"\n              class=\"some-input\"\n              disabled\n            >\n              <template #suffix>\n                <el-button type=\"warning\" @click=\"handleRemoveTeam(teamInfo.name)\" :disabled=\"userAuth.teamRole !== 'OWNER'\">解散</el-button>\n              </template>\n            </el-input>\n          </ElFormItem>\n        </ElForm>\n      </div>\n    </el-tab-pane>\n  </el-tabs>\n  <SimpleDialog\n    v-model:visible=\"teamMemberInfoData.visible\"\n    width=\"700px\"\n    :title=\"teamMemberInfoData.title\"\n    :footer=\"false\"\n  >\n    <TeamMemberInfoForm :uid=\"teamMemberInfoData.uid\" :isSelf=\"userAuth.uid === teamMemberInfoData.uid\" :loginUserTeamRole=\"userAuth.teamRole\" @formResponse=\"handleTeamMemberInfoSave\"\n                        key=\"add-teamMemberInfo\"/>\n  </SimpleDialog>\n</template>\n\n<script setup lang=\"ts\">\nimport {h, ref} from 'vue'\nimport {useTeamStore} from \"@/store/modules/team\";\nimport {\n  fetchRemoveTeam,\n  fetchSetTeamInfo, fetchSetTeamPublishInfo,\n  fetchTeamAndSpaceAuth,\n  fetchTeamInfo,\n  fetchTeamMemberList,\n  fetchTeamMemberPage, fetchTeamPublishInfo\n} from \"@/api/fetchs/team\";\nimport {InfoFilled, Search, Tools, WarningFilled} from '@element-plus/icons-vue'\nimport {useTeamMemberInfoForm} from \"@/components/SingleBottom/teamInfo/useTeamInfoForm\";\nimport SimpleDialog from '@/components/SimpleDialog/SimpleDialog.vue'\nimport TeamMemberInfoForm from \"@/components/SingleBottom/teamInfo/TeamMemberInfoForm.vue\";\nimport {getSearchParams} from \"@/utils/form\";\nimport {ElMessage, ElMessageBox} from \"element-plus\";\nimport {useEmit} from \"@/utils/useEmitter\";\nimport {router} from \"@/router\";\nimport {RouteEnum} from \"@/enums/routeEnum\";\nimport useClipboard from \"vue-clipboard3\";\nimport {QuestionFilled} from '@element-plus/icons-vue'\n\nconst teamStore = useTeamStore()\nconst {teamMemberInfoData, handleTeamMemberInfoVisible, handleTeamMemberInfoRes} = useTeamMemberInfoForm()\nconst { toClipboard } = useClipboard()\n\nconst activeTabName = ref<string>('teamInfo')\nconst teamInfo = ref<any>({})\nconst teamPublishInfo = ref<any>({publishUrl1: '', publishUrl2: ''})\nconst loading = ref<boolean>(false)\nconst tableData = ref<any[]>([])\nconst currentPage = ref(1)\nconst pageSize = ref(10)\nconst totalCount = ref<number>(0)\nconst queryName = ref('')\n\nconst teamSettingForm = ref<any>({\n  teamId: teamStore.getActiveTeamId,\n  teamName: '',\n  teamNickname: '',\n  ownerUid: ''\n})\n\nconst teamPublishForm = ref<any>({\n  teamId: teamStore.getActiveTeamId,\n  published: false,\n  showAd: false,\n  checkAuth: false,\n  needLogin: false\n})\n\nconst userAuth = ref<any>({\n  uid: '',\n  teamRole: ''\n})\n\nconst teamMemberList = ref<any[]>([])\n\nconst editTeamDisabled = ref<boolean>(true)\nconst editTeamNicknameDisabled = ref<boolean>(true)\n\nconst roleFormatter = (row, column) => {\n  return row.role === 'OWNER' ? '所有者' : row.role === 'ADMIN' ? '管理员' : '普通成员'\n}\n\nconst handleSizeChange = (val: number) => {\n  handleGetTeamMemberPage()\n}\nconst handleCurrentChange = (val: number) => {\n  handleGetTeamMemberPage()\n}\n\nfunction handleTeamMemberInfoSave(val) {\n  handleTeamMemberInfoRes(val)\n  if (val) {\n    handleGetTeamMemberPage()\n  }\n}\n\nfunction handleEditTeamName() {\n  if (!editTeamDisabled.value) {\n    // 保存操作\n    handleSetTeamInfo()\n  }\n  editTeamDisabled.value = !editTeamDisabled.value\n}\n\nfunction handleEditTeamNickame() {\n  if (!editTeamNicknameDisabled.value) {\n    // 保存操作\n    handleSetTeamInfo()\n  }\n  editTeamNicknameDisabled.value = !editTeamNicknameDisabled.value\n}\n\nfunction handleTeamMemberChange(val) {\n  ElMessageBox({\n    title: '移交团队？',\n    message: '移交后，您将不再是团队所有者，权限自动变为普通成员！',\n    showCancelButton: true,\n    cancelButtonText: '取消',\n    confirmButtonText: '确认',\n    draggable: true,\n    beforeClose: (action, instance, done) => {\n      if (action === 'confirm') {\n        instance.confirmButtonLoading = true\n        instance.confirmButtonText = 'Loading...'\n        setTimeout(() => {\n          done()\n          setTimeout(() => {\n            instance.confirmButtonLoading = false\n          }, 300)\n        }, 300)\n      } else {\n        teamSettingForm.value.ownerUid = ''\n        done()\n      }\n    }\n  }).then(async () => {\n    // 保存操作\n    handleSetTeamInfo('移交成功')\n    setTimeout(() => {\n      router.go(0)\n    }, 500)\n  })\n}\n\nfunction handleSwitchPublished() {\n  if(!teamPublishForm.value.published) {\n    teamPublishForm.value.showAd = false\n    teamPublishForm.value.checkAuth = false\n    teamPublishForm.value.needLogin = false\n  }\n\n  handleSetTeamPublishInfo()\n}\n\nfunction handleSwitchOther() {\n  if(teamPublishForm.value.showAd || teamPublishForm.value.checkAuth || teamPublishForm.value.needLogin) {\n    teamPublishForm.value.published = true\n  }\n\n  handleSetTeamPublishInfo()\n}\n\nasync function copyUrl(value) {\n  await toClipboard(value)\n  ElMessage.success('复制成功')\n}\n\nfunction openUrl(value) {\n  window.open(value, '_blank')\n}\n\n/* ================================== fetchs ================================== */\nasync function handleGetTeamInfo() {\n  const {data} = await fetchTeamInfo({teamId: teamStore.getActiveTeamId})\n  teamInfo.value = data\n\n  teamSettingForm.value.teamName = data.name\n  teamSettingForm.value.teamNickname = data.teamNickname\n}\n\nasync function handleGetTeamMemberPage() {\n  try {\n    loading.value = true\n    const {\n      rows,\n      total\n    } = await fetchTeamMemberPage(currentPage.value, pageSize.value, teamStore.getActiveTeamId, queryName.value)\n    tableData.value = rows\n    totalCount.value = total\n  } finally {\n    loading.value = false\n  }\n}\n\nasync function handleGetTeamMemberList() {\n  const {data} = await fetchTeamMemberList(teamStore.getActiveTeamId, null)\n  teamMemberList.value = data\n}\n\nasync function handleGetTeamAndSpaceAuth() {\n  const {data} = await fetchTeamAndSpaceAuth(teamStore.getActiveTeamId)\n  userAuth.value.teamRole = data.teamRole\n  userAuth.value.uid = data.uid\n}\n\nhandleGetTeamInfo()\nhandleGetTeamMemberPage()\nhandleGetTeamMemberList()\nhandleGetTeamAndSpaceAuth()\n\nasync function handleSetTeamInfo(msg = '保存成功') {\n  const params = getSearchParams(teamSettingForm.value)\n  const {data} = await fetchSetTeamInfo(params)\n  if (data) {\n    teamInfo.value.name = teamSettingForm.value.teamName\n    ElMessage.success(msg)\n  }\n}\n\nasync function handleRemoveTeam(teamName) {\n  ElMessageBox({\n    title: '解散团队？',\n    message: h('p', null, [\n      //解散${teamName}团队后，该团队下的所有数据都将被同步删除，且不可恢复！\n      h('p', null, [\n        h('span', null, '解散 '),\n        h('i', null, [h('b', null, `${teamName}`)]),\n        h('span', null, ' 团队后，该团队下的所有数据都将被同步删除，且不可恢复！')\n      ])\n    ]),\n    showCancelButton: true,\n    cancelButtonText: '取消',\n    confirmButtonText: '确认',\n    draggable: true,\n    beforeClose: (action, instance, done) => {\n      if (action === 'confirm') {\n        instance.confirmButtonLoading = true\n        instance.confirmButtonText = 'Loading...'\n        setTimeout(() => {\n          done()\n          setTimeout(() => {\n            instance.confirmButtonLoading = false\n          }, 300)\n        }, 300)\n      } else {\n        done()\n      }\n    }\n  }).then(async () => {\n    let json = {teamId: teamStore.getActiveTeamId}\n    const params = getSearchParams(json)\n    const {data} = await fetchRemoveTeam(params)\n    if (data) {\n      ElMessage.success('已解散')\n      useEmit('handleUpdateTeamList')\n      setTimeout(() => {\n        router.push(RouteEnum.SELF_FILE)\n      }, 500)\n    }\n  })\n}\n\nasync function handleSetTeamPublishInfo() {\n  const params = getSearchParams(teamPublishForm.value)\n  const {data, status} = await fetchSetTeamPublishInfo(params)\n  if (status == 1) {\n    ElMessage.success('设置成功')\n\n    if (teamPublishForm.value.published) {\n      teamPublishInfo.value.publishUrl1 = data.domain\n      teamPublishInfo.value.publishUrl2 = window.location.origin + '/p/' + data.id\n    }else {\n      teamPublishInfo.value.publishUrl1 = ''\n      teamPublishInfo.value.publishUrl2 = ''\n    }\n  }\n}\n\nasync function handleGetTeamPublishInfo() {\n  const {data} = await fetchTeamPublishInfo(teamStore.getActiveTeamId)\n  if (data) {\n    teamPublishForm.value.published = data.published\n    teamPublishForm.value.showAd = data.showAd\n    teamPublishForm.value.checkAuth = data.checkAuth\n    teamPublishForm.value.needLogin = data.needLogin\n\n    if (teamPublishForm.value.published) {\n      teamPublishInfo.value.publishUrl1 = data.domain\n      teamPublishInfo.value.publishUrl2 = window.location.origin + '/p/' + data.id\n    }else {\n      teamPublishInfo.value.publishUrl1 = ''\n      teamPublishInfo.value.publishUrl2 = ''\n    }\n  }\n}\n\nhandleGetTeamPublishInfo()\n\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(.el-pagination .el-select .el-input) {\n  width: 100px;\n}\n\n.auth-table {\n  margin-bottom: 10px;\n}\n\n.team-info {\n  margin: 10px 0;\n  width: 100%;\n\n  tr {\n    line-height: 35px;\n  }\n\n  td:first-child {\n    width: 120px;\n    color: #9aa5b8;\n  }\n\n  .el-button {\n    padding: unset;\n  }\n}\n\n:deep(.some-input .el-input__wrapper) {\n  padding: 1px 0 1px 15px;\n}\n\n.publish-form {\n  .el-button {\n    padding: unset;\n  }\n}\n</style>\n","<template>\n  <table class=\"me-info\" v-loading=\"teamInfoLoading\">\n    <tr>\n      <td>个人头像</td>\n      <td>\n        <div style=\"display: flex;align-items: center;\">\n          <el-avatar :src=\"userStore.getUserInfo?.avatar || avatarImg\"/>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td>团队昵称</td>\n      <td>\n        <div v-if=\"!teamNicknameEditing\">\n          <span>{{ teamInfo.teamNickname }}</span>\n          <el-button class=\"ml-4\" type=\"primary\" :icon=\"EditPen\" link @click=\"setTeamNickName\"/>\n        </div>\n        <el-input v-model.trim=\"teamInfo.teamNickname\" placeholder=\"请输入团队昵称 (必填)\" clearable maxlength=\"20\"\n                  show-word-limit v-if=\"teamNicknameEditing\">\n          <template #append>\n            <el-button :icon=\"Select\" @click=\"setTeamNickName\"/>\n          </template>\n        </el-input>\n      </td>\n    </tr>\n    <tr>\n      <td>所在团队</td>\n      <td>{{ teamInfo.name }}</td>\n    </tr>\n    <tr>\n      <td>团队角色</td>\n      <td>\n        <el-tag type=\"primary\">\n          {{ teamInfo.teamRole === 'OWNER' ? '所有者' : teamInfo.teamRole === 'ADMIN' ? '管理员' : '普通成员' }}\n        </el-tag>\n      </td>\n    </tr>\n    <tr>\n      <td>加入时间</td>\n      <td>{{ teamInfo.joinTime }}</td>\n    </tr>\n  </table>\n</template>\n\n<script setup lang=\"ts\">\nimport {EditPen, Select} from '@element-plus/icons-vue'\nimport {ref} from \"vue\";\nimport {getSearchParams} from \"@/utils/form\";\nimport {fetchSetTeamInfo, fetchTeamInfo} from \"@/api/fetchs/team\";\nimport {ElMessage} from \"element-plus\";\nimport {useTeamStore} from \"@/store/modules/team\";\nimport {useUserStore} from \"@/store/modules/user\";\nimport avatarImg from '@/assets/images/avatar.png'\n\nconst teamStore = useTeamStore()\nconst userStore = useUserStore()\n\nconst teamInfo = ref<any>({})\nconst teamNicknameEditing = ref<boolean>(false)\nconst teamInfoLoading = ref<boolean>(false)\n\nfunction setTeamNickName() {\n  if (teamNicknameEditing.value) {\n    let name = teamInfo.value.teamNickname\n    if (!name) {\n      ElMessage.warning('请输入团队昵称')\n      return\n    }\n    handleSetTeamNickname()\n  }\n  teamNicknameEditing.value = !teamNicknameEditing.value\n}\n\n/* ================================== fetchs ================================== */\nasync function handleGetTeamInfo() {\n  try {\n    teamInfoLoading.value = true\n    const {data} = await fetchTeamInfo({teamId: teamStore.getActiveTeamId})\n    teamInfo.value = data\n  } finally {\n    teamInfoLoading.value = false\n  }\n}\n\nhandleGetTeamInfo()\n\nasync function handleSetTeamNickname() {\n  let json = {teamId: teamStore.getActiveTeamId, teamNickname: teamInfo.value.teamNickname}\n  const params = getSearchParams(json)\n  const {data} = await fetchSetTeamInfo(params)\n  if (data) {\n    ElMessage.success('保存成功')\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.me-info {\n  margin: 10px 0;\n  width: 100%;\n\n  tr {\n    line-height: 50px;\n  }\n\n  td:first-child {\n    width: 100px;\n    color: #9aa5b8;\n  }\n\n  img {\n    mask-image: url(\"\");\n  }\n}\n</style>\n","import {reactive} from 'vue'\n\nexport interface MemberForm {\n  teamId: string\n  isOpen: boolean\n  validDays: number\n}\n\nexport function useMemberForm() {\n  const memberData = reactive({\n    visible: false,\n    title: '添加成员',\n    type: 'add'\n  })\n\n  function handleMemberVisible(text = '添加成员', type = 'add') {\n    memberData.type = type\n    memberData.title = text\n    memberData.visible = true\n  }\n\n  // 操作\n  function handleMemberRes(val) {\n    if (val) {\n      console.log('操作成功后...')\n    }\n    memberData.visible = false\n  }\n\n  return {\n    memberData,\n    handleMemberVisible,\n    handleMemberRes\n  }\n}\n","import {reactive} from 'vue'\n\nexport interface MeForm {\n\n}\n\nexport function useMeForm() {\n  const meData = reactive({\n    visible: false,\n    title: '个人资料',\n    type: 'add'\n  })\n\n  function handleMeVisible(text = '个人资料', type = 'add') {\n    meData.type = type\n    meData.title = text\n    meData.visible = true\n  }\n\n  // 操作\n  function handleMeRes(val) {\n    if (val) {\n      console.log('操作成功后...')\n    }\n    meData.visible = false\n  }\n\n  return {\n    meData,\n    handleMeVisible,\n    handleMeRes\n  }\n}\n","<template>\n  <div class=\"single-bottom-container\">\n    <el-divider/>\n    <el-space :size=\"0\" :spacer=\"spacer\">\n      <el-button type=\"primary\" text :icon=\"User\" @click=\"handleMemberVisible()\">邀请成员</el-button>\n      <el-popover\n        placement=\"right\"\n        :width=\"90\"\n        trigger=\"click\"\n      >\n        <template #reference>\n          <el-button type=\"primary\" text :icon=\"MoreFilled\">更多</el-button>\n        </template>\n        <el-button type=\"primary\" text :icon=\"InfoFilled\" style=\"width: 100%;\" @click=\"handleTeamInfoVisible()\">团队信息</el-button>\n        <el-button type=\"primary\" text :icon=\"Avatar\" style=\"margin-left: 0px;width: 100%;\" @click=\"handleMeVisible()\">个人资料</el-button>\n      </el-popover>\n    </el-space>\n  </div>\n  <SimpleDialog\n    v-model:visible=\"memberData.visible\"\n    width=\"600px\"\n    :title=\"memberData.title\"\n    :footer=\"false\"\n  >\n    <MemberForm @formResponse=\"handleMemberRes\" key=\"add-member\"/>\n  </SimpleDialog>\n  <SimpleDialog\n    v-model:visible=\"teamInfoData.visible\"\n    width=\"700px\"\n    :title=\"teamInfoData.title\"\n    :footer=\"false\"\n  >\n    <TeamInfoForm @formResponse=\"handleTeamInfoRes\" key=\"add-teamInfo\"/>\n  </SimpleDialog>\n  <SimpleDialog\n    v-model:visible=\"meData.visible\"\n    width=\"500px\"\n    :title=\"meData.title\"\n    :footer=\"false\"\n  >\n    <MeForm @formResponse=\"handleMeRes\" key=\"add-meInfo\"/>\n  </SimpleDialog>\n</template>\n\n<script setup lang=\"ts\">\nimport {useGo} from '@/hooks/web/usePage'\nimport {h} from 'vue'\nimport {ElDivider} from 'element-plus'\nimport {Avatar, InfoFilled, MoreFilled, User} from '@element-plus/icons-vue'\nimport SimpleDialog from '@/components/SimpleDialog/SimpleDialog.vue'\nimport MemberForm from \"@/components/SingleBottom/member/MemberForm.vue\";\nimport TeamInfoForm from \"@/components/SingleBottom/teamInfo/TeamInfoForm.vue\";\nimport MeForm from \"@/components/SingleBottom/me/MeForm.vue\"\nimport {useMemberForm} from \"@/components/SingleBottom/member/useMemberForm\";\nimport {useTeamInfoForm} from \"@/components/SingleBottom/teamInfo/useTeamInfoForm\";\nimport {useMeForm} from \"@/components/SingleBottom/me/useMeForm\";\n\nconst go = useGo()\nconst spacer = h(ElDivider, {direction: 'vertical'})\nconst {memberData, handleMemberVisible, handleMemberRes} = useMemberForm()\nconst {teamInfoData, handleTeamInfoVisible, handleTeamInfoRes} = useTeamInfoForm()\nconst {meData, handleMeVisible, handleMeRes} = useMeForm()\n\n</script>\n\n<style lang=\"scss\" scoped>\n.single-bottom-container {\n  position: absolute;\n  bottom: 15px;\n  left: 0;\n  right: 0;\n  padding: 0 20px;\n\n  .el-divider--horizontal {\n    margin: 5px 0;\n  }\n\n  .el-button {\n    padding: 8px 5px;\n  }\n}\n</style>\n\n<style>\n.el-dialog__body {\n  /*padding-top: 10px;*/\n}\n</style>\n","<template>\n  <div class=\"team-files-container flex\" v-if=\"teamStore.getActiveMenu\">\n    <div class=\"left-menu h-full\">\n      <Dropdwon :dropMenuList=\"getAddMenuList\" @menuEvent=\"handleDropdown\">\n        <el-button type=\"primary\" class=\"drop-add-folder w-full\">新建</el-button>\n      </Dropdwon>\n      <SingleMenu\n        :defaultValue=\"teamStore.getActiveMenu.value\"\n        :defaultSpaceId=\"teamStore.getActiveMenu.spaceId\"\n        :menus=\"menuList\"\n        class=\"mt-5\"\n        @handleChange=\"handleMenuChange\"\n      />\n      <el-divider/>\n      <div>\n        <div style=\"display: flex;justify-content: space-between;align-items: baseline;\">\n          <span style=\"color: #6c7d8f;\">团队空间</span>\n          <el-tooltip\n            effect=\"dark\"\n            content=\"新建团队空间\"\n            placement=\"bottom\"\n          >\n            <el-button link size=\"large\" @click=\"handleTeamSpaceVisible('创建空间')\">+</el-button>\n          </el-tooltip>\n        </div>\n        <div class=\"space-menu\">\n          <el-scrollbar>\n            <SingleMenu\n              :defaultValue=\"teamStore.getActiveMenu.value\"\n              :defaultSpaceId=\"teamStore.getActiveMenu.spaceId\"\n              :menus=\"teamSpaceList\"\n              @handleChange=\"handleMenuChange\"\n            />\n          </el-scrollbar>\n        </div>\n      </div>\n      <TeamBottom />\n    </div>\n    <div class=\"right-layout h-full flex-1\" v-loading=\"contentLoading\">\n      <OnlyFileContent v-if=\"teamStore.getActiveMenu.value == MenuValueEnum.MY_COMMON_USE.valueOf() || teamStore.getActiveMenu.value == MenuValueEnum.RECENT_OPEN.valueOf()\"/>\n      <TeamContent v-else/>\n    </div>\n  </div>\n  <SimpleDialog v-model:visible=\"folderData.visible\" :title=\"folderData.title\" :footer=\"false\">\n    <FolderForm @formResponse=\"handleFolderRes\" key=\"add-form\"/>\n  </SimpleDialog>\n  <SimpleDialog\n    v-model:visible=\"websiteData.visible\"\n    width=\"600px\"\n    :title=\"websiteData.title\"\n    :footer=\"false\"\n  >\n    <WebsiteForm @formResponse=\"handleWebsiteRes\" key=\"add-website\"/>\n  </SimpleDialog>\n  <SimpleDialog\n    v-model:visible=\"teamSpaceData.visible\"\n    width=\"400px\"\n    :title=\"teamSpaceData.title\"\n    :footer=\"false\">\n    <TeamSpaceForm @formResponse=\"handleTeamSpaceRes\" key=\"add-website\"/>\n  </SimpleDialog>\n</template>\n\n<script setup lang=\"ts\">\nimport Dropdwon from '@/components/Dropdown/Dropdown.vue'\nimport SingleMenu from '@/components/SingleMenu/SingleMenu.vue'\nimport SimpleDialog from '@/components/SimpleDialog/SimpleDialog.vue'\nimport {DropdownEnum} from '@/enums/dropdownEnum'\nimport {computed, ref, unref, watch} from 'vue'\nimport {useOffEmitFn, useOnEmitFn} from '@/utils/useEmitter'\nimport { useFiles } from '@/hooks/components/useFiles'\nimport {useFolderForm} from '@/components/ContentElement/folder/useFolderForm'\nimport {useWebsiteForm} from \"@/components/ContentElement/website/useWebsiteForm\";\nimport FolderForm from '@/components/ContentElement/folder/FolderForm.vue'\nimport WebsiteForm from '@/components/ContentElement/website/WebsiteForm.vue'\nimport {fetchMineSpace, fetchTeamSpaceList} from \"@/api/fetchs/team\";\nimport {useTeamStore} from \"@/store/modules/team\";\nimport {MenuProps} from \"@/components/SingleMenu/useSingleMenu\";\nimport {useTeamSpaceForm} from \"@/layout/default/team/useTeamSpaceForm\";\nimport TeamSpaceForm from \"@/layout/default/team/TeamSpaceForm.vue\";\nimport {useConst} from '@/components/ContentElement/const'\nimport TeamContent from \"./TeamContent.vue\";\nimport OnlyFileContent from \"./OnlyFileContent.vue\"\nimport {MENU_MY_COMMON_USE, MENU_RECENT_OPEN} from \"@/consts/menu\";\nimport {MenuValueEnum, teamMenuValues} from \"@/enums/menuValueEnum\";\nimport TeamBottom from '@/components/SingleBottom/TeamBottom.vue'\n\nconst {folderData, handleFolderVisible, handleFolderRes} = useFolderForm()\nconst {websiteData, handleWebsiteVisible, handleWebsiteRes} = useWebsiteForm()\nconst {teamSpaceData, handleTeamSpaceVisible, handleTeamSpaceRes} = useTeamSpaceForm()\n\nconst {getAddMenuList} = useConst()\n\nconst teamStore = useTeamStore()\nconst { handleFolderMenuChange } = useFiles()\n\nconst menuList = ref<MenuProps[]>([])\nconst teamSpaceList = ref<MenuProps[]>([])\nconst contentLoading = ref<boolean>(false)\n\nuseOnEmitFn('handleUpdateTeamSpaceList', getTeamSpaceList)\nuseOnEmitFn('handleChangeLoadingStatus', handleChangeLoadingStatus)\n\nfunction handleDropdown(dropItem) {\n  switch (dropItem.key) {\n    case DropdownEnum.ADD_FOLDER:\n      handleFolderVisible(dropItem.text)\n      break\n    case DropdownEnum.ADD_WEBSITE:\n      handleWebsiteVisible(dropItem.text)\n      break\n  }\n}\n\nfunction handleMenuChange(menu) {\n  handleFolderMenuChange(menu)\n}\n\nfunction handleChangeLoadingStatus(show: boolean) {\n  contentLoading.value = show\n}\n\nwatch(menuList, (n, o) => {\n  if(!teamStore.getActiveMenu) {\n    teamStore.setActiveMenu(n[0])\n    return\n  }\n\n  let activeMenuValue = teamMenuValues.find(v => v == teamStore.getActiveMenu.value)\n  if (activeMenuValue == undefined || activeMenuValue == null) {\n    teamStore.setActiveMenu(n[0])\n  }\n})\n\nwatch(\n  () => teamStore.getActiveTeamId,\n  () => {\n    if(teamStore.getActiveTeamId && teamStore.getActiveTeamType === 'TEAM') {\n      getTeamSpaceList()\n      getMenuList()\n    }\n  },{ immediate: true })\n\n/* ================================== fetchs ================================== */\nasync function getTeamSpaceList() {\n  const {data} = await fetchTeamSpaceList({teamId: teamStore.getActiveTeamId})\n  let spaceList = data.map((space, index) => {\n    let icon = space.spaceType == 'PUBLIC' ? 'space-public' : 'space-private'\n    let value = space.spaceType == 'PUBLIC' ? MenuValueEnum.PUBLIC_SPACE : MenuValueEnum.OTHER_SPACE\n    return {\n      icon,\n      logoUrl: space.logoUrl || '',\n      text: space.name,\n      desc: space.desc,\n      showWatermark: space.showWatermark,\n      value,\n      spaceId: space.spaceId,\n      spaceType: space.spaceType\n    }\n  })\n  teamSpaceList.value = spaceList\n}\n\nasync function getMenuList() {\n  let menus = [\n    MENU_MY_COMMON_USE,\n    MENU_RECENT_OPEN\n  ]\n  const {data} = await fetchMineSpace({teamId: teamStore.getActiveTeamId})\n  let mySpaceMenu = {\n    icon: 'menu-self-file',\n    text: data.name,\n    value: MenuValueEnum.MY_SPACE,\n    spaceId: data.spaceId,\n  }\n\n  menus.push(mySpaceMenu)\n\n  menuList.value = menus\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.team-files-container {\n  height: calc(100vh - 50px);\n\n  .left-menu {\n    position: relative;\n    padding: 20px 20px 0;\n    width: 206px;\n    border-right: 1px solid #ddd;\n\n    .drop-add-folder {\n      width: 165px;\n      margin-bottom: 8px;\n    }\n\n    .single-file-num {\n      position: absolute;\n      bottom: 65px;\n      width: 80%;\n    }\n\n    .el-divider--horizontal {\n      margin: 5px 0;\n    }\n\n    .space-menu {\n      height: calc(100vh - 43px - 50px - 20px - 40px - 135px - 6px - 40px - 20px);\n    }\n  }\n\n  .right-layout {\n    background-color: #f4f4f4;\n    width: calc(100% - 200px);\n    padding: 15px 0;\n  }\n}\n</style>\n"],"names":["_sfc_main","defineComponent","_hoisted_1","_hoisted_2","createElementVNode","_hoisted_3","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","avatar","_export_sfc","editPen","infoFilled","moreFilled","questionFilled","user","warningFilled","useTeamSpaceForm","teamSpaceData","reactive","handleTeamSpaceVisible","text","type","handleTeamSpaceRes","val","props","__props","ruleFormRef","ref","teamStore","useTeamStore","form","watchEffect","rest","__objRest","__spreadValues","emit","__emit","handleSure","valid","handleAddTeamSpaceApi","handleClose","__async","params","getSearchParams","fetchAddTeamSpace","ElMessage","useEmit","toClipboard","useClipboard","activeTabName","inviteLink","showInvalidWarn","tip","computed","reset","ElMessageBox","handleSetInviteLink","copy","data","fetchSetInviteLink","handleGetInviteInfo","fetchInviteInfo","useTeamInfoForm","teamInfoData","handleTeamInfoVisible","handleTeamInfoRes","useTeamMemberInfoForm","teamMemberInfoData","handleTeamMemberInfoVisible","uid","handleTeamMemberInfoRes","spaceRoleInfos","useAuthForm","disablePopover","role","handleSetSpaceMemeber","row","handleGetTeamMemberAndSpaceRoleInfo","fetchTeamMemberAndSpaceRoleInfo","handleSetTeamMemberAndSpaceRoleInfo","fetchSetTeamMemberAndSpaceRoleInfo","handleRemoveTeamMember","json","fetchRemoveTeamMemeber","teamInfo","teamPublishInfo","loading","tableData","currentPage","pageSize","totalCount","queryName","teamSettingForm","teamPublishForm","userAuth","teamMemberList","editTeamDisabled","editTeamNicknameDisabled","roleFormatter","column","handleSizeChange","handleGetTeamMemberPage","handleCurrentChange","handleTeamMemberInfoSave","handleEditTeamName","handleSetTeamInfo","handleEditTeamNickame","handleTeamMemberChange","action","instance","done","router","handleSwitchPublished","handleSetTeamPublishInfo","handleSwitchOther","copyUrl","value","openUrl","handleGetTeamInfo","fetchTeamInfo","rows","total","fetchTeamMemberPage","handleGetTeamMemberList","fetchTeamMemberList","handleGetTeamAndSpaceAuth","fetchTeamAndSpaceAuth","msg","fetchSetTeamInfo","handleRemoveTeam","teamName","h","fetchRemoveTeam","RouteEnum","status","fetchSetTeamPublishInfo","handleGetTeamPublishInfo","fetchTeamPublishInfo","userStore","useUserStore","teamNicknameEditing","teamInfoLoading","setTeamNickName","handleSetTeamNickname","useMemberForm","memberData","handleMemberVisible","handleMemberRes","useMeForm","meData","handleMeVisible","handleMeRes","useGo","spacer","ElDivider","folderData","handleFolderVisible","handleFolderRes","useFolderForm","websiteData","handleWebsiteVisible","handleWebsiteRes","useWebsiteForm","getAddMenuList","useConst","handleFolderMenuChange","useFiles","menuList","teamSpaceList","contentLoading","useOnEmitFn","getTeamSpaceList","handleChangeLoadingStatus","handleDropdown","dropItem","DropdownEnum","handleMenuChange","menu","show","watch","n","o","activeMenuValue","teamMenuValues","v","getMenuList","fetchTeamSpaceList","spaceList","space","index","icon","MenuValueEnum","menus","MENU_MY_COMMON_USE","MENU_RECENT_OPEN","fetchMineSpace","mySpaceMenu"],"mappings":"y6DAGA,MAAMA,GAAYC,EAAgB,CAChC,KAAM,QACR,CAAC,EACKC,GAAa,CACjB,QAAS,gBACT,MAAO,4BACT,EACMC,GAA6BC,EAAmB,OAAQ,CAC5D,KAAM,eACN,EAAG,2JACL,EAAG,KAAM,EAAE,EACLC,GAAa,CACjBF,EACF,EACA,SAASG,GAAYC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAClE,OAAOC,EAAW,EAAEC,EAAmB,MAAOZ,GAAYG,EAAU,CACtE,CACA,IAAIU,GAAyBC,EAAYhB,GAAW,CAAC,CAAC,SAAUM,EAAW,CAAC,CAAC,ECjB7E,MAAMN,GAAYC,EAAgB,CAChC,KAAM,SACR,CAAC,EACKC,GAAa,CACjB,QAAS,gBACT,MAAO,4BACT,EACMC,GAA6BC,EAAmB,OAAQ,CAC5D,EAAG,qTACH,KAAM,cACR,EAAG,KAAM,EAAE,EACLC,GAAa,CACjBF,EACF,EACA,SAASG,GAAYC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAClE,OAAOC,EAAW,EAAEC,EAAmB,MAAOZ,GAAYG,EAAU,CACtE,CACA,IAAIY,GAA0BD,EAAYhB,GAAW,CAAC,CAAC,SAAUM,EAAW,CAAC,CAAC,ECjB9E,MAAMN,GAAYC,EAAgB,CAChC,KAAM,YACR,CAAC,EACKC,GAAa,CACjB,QAAS,gBACT,MAAO,4BACT,EACMC,GAA6BC,EAAmB,OAAQ,CAC5D,KAAM,eACN,EAAG,snBACL,EAAG,KAAM,EAAE,EACLC,GAAa,CACjBF,EACF,EACA,SAASG,GAAYC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAClE,OAAOC,EAAW,EAAEC,EAAmB,MAAOZ,GAAYG,EAAU,CACtE,CACA,IAAIa,GAA6BF,EAAYhB,GAAW,CAAC,CAAC,SAAUM,EAAW,CAAC,CAAC,ECjBjF,MAAMN,GAAYC,EAAgB,CAChC,KAAM,YACR,CAAC,EACKC,GAAa,CACjB,QAAS,gBACT,MAAO,4BACT,EACMC,GAA6BC,EAAmB,OAAQ,CAC5D,KAAM,eACN,EAAG,iJACL,EAAG,KAAM,EAAE,EACLC,GAAa,CACjBF,EACF,EACA,SAASG,GAAYC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAClE,OAAOC,EAAW,EAAEC,EAAmB,MAAOZ,GAAYG,EAAU,CACtE,CACA,IAAIc,GAA6BH,EAAYhB,GAAW,CAAC,CAAC,SAAUM,EAAW,CAAC,CAAC,ECjBjF,MAAMN,GAAYC,EAAgB,CAChC,KAAM,gBACR,CAAC,EACKC,GAAa,CACjB,QAAS,gBACT,MAAO,4BACT,EACMC,GAA6BC,EAAmB,OAAQ,CAC5D,KAAM,eACN,EAAG,47BACL,EAAG,KAAM,EAAE,EACLC,GAAa,CACjBF,EACF,EACA,SAASG,GAAYC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAClE,OAAOC,EAAW,EAAEC,EAAmB,MAAOZ,GAAYG,EAAU,CACtE,CACA,IAAIe,GAAiCJ,EAAYhB,GAAW,CAAC,CAAC,SAAUM,EAAW,CAAC,CAAC,ECjBrF,MAAMN,GAAYC,EAAgB,CAChC,KAAM,MACR,CAAC,EACKC,GAAa,CACjB,QAAS,gBACT,MAAO,4BACT,EACMC,GAA6BC,EAAmB,OAAQ,CAC5D,KAAM,eACN,EAAG,kPACL,EAAG,KAAM,EAAE,EACLC,GAAa,CACjBF,EACF,EACA,SAASG,GAAYC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAClE,OAAOC,EAAW,EAAEC,EAAmB,MAAOZ,GAAYG,EAAU,CACtE,CACA,IAAIgB,GAAuBL,EAAYhB,GAAW,CAAC,CAAC,SAAUM,EAAW,CAAC,CAAC,ECjB3E,MAAMN,GAAYC,EAAgB,CAChC,KAAM,eACR,CAAC,EACKC,GAAa,CACjB,QAAS,gBACT,MAAO,4BACT,EACMC,GAA6BC,EAAmB,OAAQ,CAC5D,KAAM,eACN,EAAG,sOACL,EAAG,KAAM,EAAE,EACLC,GAAa,CACjBF,EACF,EACA,SAASG,GAAYC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAClE,OAAOC,EAAW,EAAEC,EAAmB,MAAOZ,GAAYG,EAAU,CACtE,CACA,IAAIiB,GAAgCN,EAAYhB,GAAW,CAAC,CAAC,SAAUM,EAAW,CAAC,CAAC,EClB7E,SAASiB,IAAmB,CACjC,MAAMC,EAAgBC,GAAS,CAC7B,QAAS,GACT,MAAO,2BACP,KAAM,KAAA,CACP,EAEQ,SAAAC,EAAuBC,EAAMC,EAAO,MAAO,CAClDJ,EAAc,KAAOI,EACrBJ,EAAc,MAAQG,EACtBH,EAAc,QAAU,EAC1B,CAEA,SAASK,EAAmBC,EAAK,CAI/BN,EAAc,QAAU,EAC1B,CAEO,MAAA,CACL,cAAAA,EACA,uBAAAE,EACA,mBAAAG,CAAA,CAEJ,wIC0BA,MAAME,EAAQC,EAGRC,EAAcC,IAEdC,EAAYC,KAEZC,EAAOH,EAAwB,CACnC,OAAQC,EAAU,gBAClB,KAAM,GACN,KAAM,EAAA,CACP,EAEDG,GAAY,IAAM,CAChB,GAAIP,EAAM,YAAa,CACf,MAAIQ,EAAAC,GAAQT,EAAM,YAAd,IACLM,EAAA,MAAQ,OAAO,OAAO,CAAA,EAAII,GAAA,GAAKF,EAAK,CAAA,MAEzCF,EAAK,MAAQ,CACX,OAAQF,EAAU,gBAClB,KAAM,GACN,KAAM,EAAA,CAEV,CACD,EAED,MAAMO,EAAOC,EAEb,SAASC,GAAa,CACRX,EAAA,MAAM,SAAkBY,GAAA,CAC9BA,IACoBC,IACtBJ,EAAK,eAAgB,EAAI,EAC3B,CACD,CACH,CAEA,SAASK,GAAc,CACrBL,EAAK,eAAgB,EAAK,CAC5B,CAGA,SAAeI,GAAwB,QAAAE,EAAA,sBAC/B,MAAAC,EAASC,EAAgBb,EAAK,KAAK,EACzC,MAAMc,GAAkBF,CAAM,EAC9BG,EAAU,QAAQ,0BAAM,EACxBC,GAAQ,2BAA2B,CACrC,2zCCnDA,MAAMlB,EAAYC,KACZH,EAAcC,IACdG,EAAOH,EAAgB,CAC3B,OAAQC,EAAU,gBAClB,OAAQ,GACR,UAAW,EAAA,CACZ,EAEK,CAAE,YAAAmB,GAAgBC,KAElBC,EAAgBtB,EAAY,gBAAgB,EAE5CuB,EAAavB,EAAY,EAAE,EAC3BwB,EAAkBxB,EAAI,EAAK,EAE3ByB,EAAMC,GAAS,IACfvB,EAAK,MAAM,OACN,uFAEA,0HAEV,EAED,SAASwB,GAAQ,CACFC,GAAA,QAAQ,6FAAmB,eAAM,CAC5C,kBAAmB,eACnB,iBAAkB,eAClB,KAAM,SAAA,CACP,EACE,KAAK,IAAM,CACUC,GAAA,CACrB,EACA,MAAM,IAAM,CAAA,CAEZ,CACL,CAEA,SAAeC,GAAO,QAAAhB,EAAA,sBACd,MAAAM,EAAYG,EAAW,KAAK,EAClCL,EAAU,QAAQ,0BAAM,CAC1B,GAGA,SAAeW,GAAsB,QAAAf,EAAA,sBAC7B,MAAAC,EAASC,EAAgBb,EAAK,KAAK,EACnC,CAAC,KAAA4B,CAAQ,EAAA,MAAMC,GAAmBjB,CAAM,EAC9CQ,EAAW,MAAQ,OAAO,SAAS,OAAS,mCAAqCQ,EACjFP,EAAgB,MAAQ,GACxBN,EAAU,QAAQ,0BAAM,CAC1B,GAEA,SAAee,GAAsB,QAAAnB,EAAA,sBACnC,KAAM,CAAC,KAAAiB,CAAI,EAAI,MAAMG,GAAgBjC,EAAU,eAAe,EACzDE,EAAA,MAAM,OAAS4B,EAAK,gBAAkB,EACtC5B,EAAA,MAAM,UAAY4B,EAAK,gBAAkB,GAC9BP,EAAA,MAAQ,CAACO,EAAK,gBAC9BR,EAAW,MAAQ,OAAO,SAAS,OAAS,mCAAqCQ,EAAK,UACxF,GAEoB,OAAAE,0+DC7Fb,SAASE,IAAkB,CAChC,MAAMC,EAAe7C,GAAS,CAC5B,QAAS,GACT,MAAO,2BACP,KAAM,KAAA,CACP,EAED,SAAS8C,EAAsB5C,EAAO,2BAAQC,EAAO,MAAO,CAC1D0C,EAAa,KAAO1C,EACpB0C,EAAa,MAAQ3C,EACrB2C,EAAa,QAAU,EACzB,CAGA,SAASE,EAAkB1C,EAAK,CAC1BA,GACF,QAAQ,IAAI,mCAAU,EAExBwC,EAAa,QAAU,EACzB,CAEO,MAAA,CACL,aAAAA,EACA,sBAAAC,EACA,kBAAAC,CAAA,CAEJ,CAEO,SAASC,IAAwB,CACtC,MAAMC,EAAqBjD,GAAS,CAClC,QAAS,GACT,MAAO,uCACP,KAAM,MACN,IAAK,EAAA,CACN,EAED,SAASkD,EAA4BC,EAAKjD,EAAO,uCAAUC,EAAO,MAAO,CAC/D,QAAA,IAAI,SAASgD,CAAG,EACxBF,EAAmB,KAAO9C,EAC1B8C,EAAmB,MAAQ/C,EAC3B+C,EAAmB,QAAU,GAC7BA,EAAmB,IAAME,CAC3B,CAGA,SAASC,EAAwB/C,EAAK,CAChCA,GACF,QAAQ,IAAI,mCAAU,EAExB4C,EAAmB,QAAU,EAC/B,CAEO,MAAA,CACL,mBAAAA,EACA,4BAAAC,EACA,wBAAAE,CAAA,CAEJ,2SC4BA,MAAM9C,EAAQC,EAMRG,EAAYC,KACZ,CAAC,eAAA0C,GAAkBC,KACnBrC,EAAOC,EAEPN,EAAOH,EAAwB,CACnC,OAAQC,EAAU,gBAClB,KAAM,QACN,aAAc,GACd,IAAK,GACL,WAAY,CAAC,CAAA,CACd,EAEK6C,EAAkBC,GACfA,IAAS,QAGT,SAAAC,EAAsBC,EAAKF,EAAM,CACxCE,EAAI,UAAYF,CAClB,CAEA,SAASlC,GAAc,CACrBL,EAAK,eAAgB,EAAK,CAC5B,CAGA,SAAe0C,GAAsC,QAAApC,EAAA,sBAC7C,KAAA,CAAC,KAAAiB,CAAQ,EAAA,MAAMoB,GAAgClD,EAAU,gBAAiBJ,EAAM,GAAG,EAEpFM,EAAA,MAAM,KAAO4B,EAAK,KAClB5B,EAAA,MAAM,aAAe4B,EAAK,aAC1B5B,EAAA,MAAM,IAAM4B,EAAK,IACjB5B,EAAA,MAAM,WAAa4B,EAAK,UAC/B,GAEoCmB,IAEpC,SAAeE,GAAsC,QAAAtC,EAAA,sBACnD,KAAM,CAAC,KAAAiB,CAAI,EAAI,MAAMsB,GAAmClD,EAAK,KAAK,EAC/D4B,IACDb,EAAU,QAAQ,0BAAM,EACxBV,EAAK,eAAgB,EAAI,EAE7B,GAEA,SAAe8C,GAAyB,QAAAxC,EAAA,sBACtC,IAAIyC,EAAO,CACT,OAAQtD,EAAU,gBAClB,IAAKE,EAAK,MAAM,GAAA,EAEZ,MAAAY,EAASC,EAAgBuC,CAAI,EAC7B,CAAC,KAAAxB,CAAQ,EAAA,MAAMyB,GAAuBzC,CAAM,EAC/CgB,IACDb,EAAU,QAAQ,0BAAM,EACxBV,EAAK,eAAgB,EAAI,EAE7B,uzHCmJA,MAAMP,EAAYC,KACZ,CAAC,mBAAAsC,EAAoB,4BAAAC,EAA6B,wBAAAE,GAA2BJ,GAAsB,EACnG,CAAE,YAAAnB,GAAgBC,KAElBC,EAAgBtB,EAAY,UAAU,EACtCyD,EAAWzD,EAAS,CAAA,CAAE,EACtB0D,EAAkB1D,EAAS,CAAC,YAAa,GAAI,YAAa,GAAG,EAC7D2D,EAAU3D,EAAa,EAAK,EAC5B4D,EAAY5D,EAAW,CAAA,CAAE,EACzB6D,EAAc7D,EAAI,CAAC,EACnB8D,EAAW9D,EAAI,EAAE,EACjB+D,EAAa/D,EAAY,CAAC,EAC1BgE,EAAYhE,EAAI,EAAE,EAElBiE,EAAkBjE,EAAS,CAC/B,OAAQC,EAAU,gBAClB,SAAU,GACV,aAAc,GACd,SAAU,EAAA,CACX,EAEKiE,EAAkBlE,EAAS,CAC/B,OAAQC,EAAU,gBAClB,UAAW,GACX,OAAQ,GACR,UAAW,GACX,UAAW,EAAA,CACZ,EAEKkE,EAAWnE,EAAS,CACxB,IAAK,GACL,SAAU,EAAA,CACX,EAEKoE,EAAiBpE,EAAW,CAAA,CAAE,EAE9BqE,EAAmBrE,EAAa,EAAI,EACpCsE,EAA2BtE,EAAa,EAAI,EAE5CuE,EAAgB,CAACtB,EAAKuB,IACnBvB,EAAI,OAAS,QAAU,qBAAQA,EAAI,OAAS,QAAU,qBAAQ,2BAGjEwB,EAAoB7E,GAAgB,CAChB8E,IAAA,EAEpBC,EAAuB/E,GAAgB,CACnB8E,IAAA,EAG1B,SAASE,EAAyBhF,EAAK,CACrC+C,EAAwB/C,CAAG,EACvBA,GACsB8E,IAE5B,CAEA,SAASG,GAAqB,CACvBR,EAAiB,OAEFS,KAEHT,EAAA,MAAQ,CAACA,EAAiB,KAC7C,CAEA,SAASU,GAAwB,CAC1BT,EAAyB,OAEVQ,KAEKR,EAAA,MAAQ,CAACA,EAAyB,KAC7D,CAEA,SAASU,EAAuBpF,EAAK,CACtBgC,GAAA,CACX,MAAO,iCACP,QAAS,+JACT,iBAAkB,GAClB,iBAAkB,eAClB,kBAAmB,eACnB,UAAW,GACX,YAAa,CAACqD,EAAQC,EAAUC,IAAS,CACnCF,IAAW,WACbC,EAAS,qBAAuB,GAChCA,EAAS,kBAAoB,aAC7B,WAAW,IAAM,CACVC,IACL,WAAW,IAAM,CACfD,EAAS,qBAAuB,IAC/B,GAAG,GACL,GAAG,IAENjB,EAAgB,MAAM,SAAW,GAC5BkB,IAET,CAAA,CACD,EAAE,KAAK,IAAYrE,EAAA,sBAElBgE,GAAkB,0BAAM,EACxB,WAAW,IAAM,CACfM,GAAO,GAAG,CAAC,GACV,GAAG,CAAA,EACP,CACH,CAEA,SAASC,GAAwB,CAC3BnB,EAAgB,MAAM,YACxBA,EAAgB,MAAM,OAAS,GAC/BA,EAAgB,MAAM,UAAY,GAClCA,EAAgB,MAAM,UAAY,IAGXoB,IAC3B,CAEA,SAASC,IAAoB,EACxBrB,EAAgB,MAAM,QAAUA,EAAgB,MAAM,WAAaA,EAAgB,MAAM,aAC1FA,EAAgB,MAAM,UAAY,IAGXoB,IAC3B,CAEA,SAAeE,GAAQC,EAAO,QAAA3E,EAAA,sBAC5B,MAAMM,EAAYqE,CAAK,EACvBvE,EAAU,QAAQ,0BAAM,CAC1B,GAEA,SAASwE,GAAQD,EAAO,CACf,OAAA,KAAKA,EAAO,QAAQ,CAC7B,CAGA,SAAeE,IAAoB,QAAA7E,EAAA,sBAC3B,KAAA,CAAC,KAAAiB,CAAQ,EAAA,MAAM6D,GAAc,CAAC,OAAQ3F,EAAU,eAAA,CAAgB,EACtEwD,EAAS,MAAQ1B,EAEDkC,EAAA,MAAM,SAAWlC,EAAK,KACtBkC,EAAA,MAAM,aAAelC,EAAK,YAC5C,GAEA,SAAe2C,IAA0B,QAAA5D,EAAA,sBACnC,GAAA,CACF6C,EAAQ,MAAQ,GACV,KAAA,CACJ,KAAAkC,EACA,MAAAC,CACF,EAAI,MAAMC,GAAoBlC,EAAY,MAAOC,EAAS,MAAO7D,EAAU,gBAAiB+D,EAAU,KAAK,EAC3GJ,EAAU,MAAQiC,EAClB9B,EAAW,MAAQ+B,CAAA,QACnB,CACAnC,EAAQ,MAAQ,EAClB,CACF,GAEA,SAAeqC,IAA0B,QAAAlF,EAAA,sBACvC,KAAM,CAAC,KAAAiB,CAAI,EAAI,MAAMkE,GAAoBhG,EAAU,gBAAiB,IAAI,EACxEmE,EAAe,MAAQrC,CACzB,GAEA,SAAemE,IAA4B,QAAApF,EAAA,sBACzC,KAAM,CAAC,KAAAiB,CAAI,EAAI,MAAMoE,GAAsBlG,EAAU,eAAe,EAC3DkE,EAAA,MAAM,SAAWpC,EAAK,SACtBoC,EAAA,MAAM,IAAMpC,EAAK,GAC5B,GAEkB4D,KACMjB,KACAsB,KACEE,KAEX,SAAApB,GAAkBsB,EAAM,2BAAQ,QAAAtF,EAAA,sBACvC,MAAAC,EAASC,EAAgBiD,EAAgB,KAAK,EAC9C,CAAC,KAAAlC,CAAQ,EAAA,MAAMsE,GAAiBtF,CAAM,EACxCgB,IACO0B,EAAA,MAAM,KAAOQ,EAAgB,MAAM,SAC5C/C,EAAU,QAAQkF,CAAG,EAEzB,GAEA,SAAeE,GAAiBC,EAAU,QAAAzF,EAAA,sBAC3Bc,GAAA,CACX,MAAO,iCACP,QAAS4E,EAAE,IAAK,KAAM,CAEpBA,EAAE,IAAK,KAAM,CACXA,EAAE,OAAQ,KAAM,eAAK,EACrBA,EAAE,IAAK,KAAM,CAACA,EAAE,IAAK,KAAM,GAAGD,GAAU,CAAC,CAAC,EAC1CC,EAAE,OAAQ,KAAM,qKAA8B,CAAA,CAC/C,CAAA,CACF,EACD,iBAAkB,GAClB,iBAAkB,eAClB,kBAAmB,eACnB,UAAW,GACX,YAAa,CAACvB,EAAQC,EAAUC,IAAS,CACnCF,IAAW,WACbC,EAAS,qBAAuB,GAChCA,EAAS,kBAAoB,aAC7B,WAAW,IAAM,CACVC,IACL,WAAW,IAAM,CACfD,EAAS,qBAAuB,IAC/B,GAAG,GACL,GAAG,GAEDC,GAET,CAAA,CACD,EAAE,KAAK,IAAYrE,EAAA,sBAClB,IAAIyC,EAAO,CAAC,OAAQtD,EAAU,eAAe,EACvC,MAAAc,EAASC,EAAgBuC,CAAI,EAC7B,CAAC,KAAAxB,CAAQ,EAAA,MAAM0E,GAAgB1F,CAAM,EACvCgB,IACFb,EAAU,QAAQ,oBAAK,EACvBC,GAAQ,sBAAsB,EAC9B,WAAW,IAAM,CACRiE,GAAA,KAAKsB,GAAU,SAAS,GAC9B,GAAG,EACR,EACD,CACH,GAEA,SAAepB,IAA2B,QAAAxE,EAAA,sBAClC,MAAAC,EAASC,EAAgBkD,EAAgB,KAAK,EAC9C,CAAC,KAAAnC,EAAM,OAAA4E,CAAA,EAAU,MAAMC,GAAwB7F,CAAM,EACvD4F,GAAU,IACZzF,EAAU,QAAQ,0BAAM,EAEpBgD,EAAgB,MAAM,WACRR,EAAA,MAAM,YAAc3B,EAAK,OACzC2B,EAAgB,MAAM,YAAc,OAAO,SAAS,OAAS,MAAQ3B,EAAK,KAE1E2B,EAAgB,MAAM,YAAc,GACpCA,EAAgB,MAAM,YAAc,IAG1C,GAEA,SAAemD,IAA2B,QAAA/F,EAAA,sBACxC,KAAM,CAAC,KAAAiB,CAAI,EAAI,MAAM+E,GAAqB7G,EAAU,eAAe,EAC/D8B,IACcmC,EAAA,MAAM,UAAYnC,EAAK,UACvBmC,EAAA,MAAM,OAASnC,EAAK,OACpBmC,EAAA,MAAM,UAAYnC,EAAK,UACvBmC,EAAA,MAAM,UAAYnC,EAAK,UAEnCmC,EAAgB,MAAM,WACRR,EAAA,MAAM,YAAc3B,EAAK,OACzC2B,EAAgB,MAAM,YAAc,OAAO,SAAS,OAAS,MAAQ3B,EAAK,KAE1E2B,EAAgB,MAAM,YAAc,GACpCA,EAAgB,MAAM,YAAc,IAG1C,GAEyB,OAAAmD,kmSC/fzB,MAAM5G,EAAYC,KACZ6G,EAAYC,KAEZvD,EAAWzD,EAAS,CAAA,CAAE,EACtBiH,EAAsBjH,EAAa,EAAK,EACxCkH,EAAkBlH,EAAa,EAAK,EAE1C,SAASmH,GAAkB,CACzB,GAAIF,EAAoB,MAAO,CAE7B,GAAI,CADOxD,EAAS,MAAM,aACf,CACTvC,EAAU,QAAQ,4CAAS,EAC3B,MACF,CACsBkG,GACxB,CACoBH,EAAA,MAAQ,CAACA,EAAoB,KACnD,CAGA,SAAetB,GAAoB,QAAA7E,EAAA,sBAC7B,GAAA,CACFoG,EAAgB,MAAQ,GAClB,KAAA,CAAC,KAAAnF,CAAQ,EAAA,MAAM6D,GAAc,CAAC,OAAQ3F,EAAU,eAAA,CAAgB,EACtEwD,EAAS,MAAQ1B,CAAA,QACjB,CACAmF,EAAgB,MAAQ,EAC1B,CACF,GAEkBvB,IAElB,SAAeyB,GAAwB,QAAAtG,EAAA,sBACjC,IAAAyC,EAAO,CAAC,OAAQtD,EAAU,gBAAiB,aAAcwD,EAAS,MAAM,cACtE,MAAA1C,EAASC,EAAgBuC,CAAI,EAC7B,CAAC,KAAAxB,CAAQ,EAAA,MAAMsE,GAAiBtF,CAAM,EACxCgB,GACFb,EAAU,QAAQ,0BAAM,CAE5B,k7CCrFO,SAASmG,IAAgB,CAC9B,MAAMC,EAAa/H,GAAS,CAC1B,QAAS,GACT,MAAO,2BACP,KAAM,KAAA,CACP,EAED,SAASgI,EAAoB9H,EAAO,2BAAQC,EAAO,MAAO,CACxD4H,EAAW,KAAO5H,EAClB4H,EAAW,MAAQ7H,EACnB6H,EAAW,QAAU,EACvB,CAGA,SAASE,EAAgB5H,EAAK,CACxBA,GACF,QAAQ,IAAI,mCAAU,EAExB0H,EAAW,QAAU,EACvB,CAEO,MAAA,CACL,WAAAA,EACA,oBAAAC,EACA,gBAAAC,CAAA,CAEJ,CC5BO,SAASC,IAAY,CAC1B,MAAMC,EAASnI,GAAS,CACtB,QAAS,GACT,MAAO,2BACP,KAAM,KAAA,CACP,EAED,SAASoI,EAAgBlI,EAAO,2BAAQC,EAAO,MAAO,CACpDgI,EAAO,KAAOhI,EACdgI,EAAO,MAAQjI,EACfiI,EAAO,QAAU,EACnB,CAGA,SAASE,EAAYhI,EAAK,CACpBA,GACF,QAAQ,IAAI,mCAAU,EAExB8H,EAAO,QAAU,EACnB,CAEO,MAAA,CACL,OAAAA,EACA,gBAAAC,EACA,YAAAC,CAAA,CAEJ,+ECyBWC,GAAM,EACjB,MAAMC,EAAStB,EAAEuB,GAAW,CAAC,UAAW,WAAW,EAC7C,CAAC,WAAAT,EAAY,oBAAAC,EAAqB,gBAAAC,GAAmBH,GAAc,EACnE,CAAC,aAAAjF,EAAc,sBAAAC,EAAuB,kBAAAC,GAAqBH,GAAgB,EAC3E,CAAC,OAAAuF,EAAQ,gBAAAC,EAAiB,YAAAC,GAAeH,GAAU,w3DC0BzD,KAAM,CAAC,WAAAO,EAAY,oBAAAC,EAAqB,gBAAAC,GAAmBC,GAAc,EACnE,CAAC,YAAAC,EAAa,qBAAAC,EAAsB,iBAAAC,GAAoBC,GAAe,EACvE,CAAC,cAAAjJ,EAAe,uBAAAE,EAAwB,mBAAAG,GAAsBN,GAAiB,EAE/E,CAAC,eAAAmJ,GAAkBC,KAEnBxI,EAAYC,KACZ,CAAE,uBAAAwI,GAA2BC,KAE7BC,EAAW5I,EAAiB,CAAA,CAAE,EAC9B6I,EAAgB7I,EAAiB,CAAA,CAAE,EACnC8I,EAAiB9I,EAAa,EAAK,EAEzC+I,GAAY,4BAA6BC,CAAgB,EACzDD,GAAY,4BAA6BE,CAAyB,EAElE,SAASC,EAAeC,EAAU,CAChC,OAAQA,EAAS,UACVC,GAAa,WAChBnB,EAAoBkB,EAAS,IAAI,EACjC,WACGC,GAAa,YAChBf,EAAqBc,EAAS,IAAI,EAClC,MAEN,CAEA,SAASE,EAAiBC,EAAM,CAC9BZ,EAAuBY,CAAI,CAC7B,CAEA,SAASL,EAA0BM,EAAe,CAChDT,EAAe,MAAQS,CACzB,CAEMC,GAAAZ,EAAU,CAACa,EAAGC,IAAM,CACrB,GAAA,CAACzJ,EAAU,cAAe,CACjBA,EAAA,cAAcwJ,EAAE,EAAE,EAC5B,MACF,CAEA,IAAIE,EAAkBC,GAAe,QAAUC,GAAK5J,EAAU,cAAc,KAAK,GAC7E0J,GAAmB,MAAaA,GAAmB,OAC3C1J,EAAA,cAAcwJ,EAAE,EAAE,CAC9B,CACD,EAEDD,GACE,IAAMvJ,EAAU,gBAChB,IAAM,CACDA,EAAU,iBAAmBA,EAAU,oBAAsB,SAC7C+I,IACLc,IAEhB,EAAE,CAAE,UAAW,EAAK,CAAA,EAGtB,SAAed,GAAmB,QAAAlI,EAAA,sBAC1B,KAAA,CAAC,KAAAiB,CAAQ,EAAA,MAAMgI,GAAmB,CAAC,OAAQ9J,EAAU,eAAA,CAAgB,EAC3E,IAAI+J,EAAYjI,EAAK,IAAI,CAACkI,EAAOC,IAAU,CACzC,IAAIC,EAAOF,EAAM,WAAa,SAAW,eAAiB,gBACtDxE,EAAQwE,EAAM,WAAa,SAAWG,GAAc,aAAeA,GAAc,YAC9E,MAAA,CACL,KAAAD,EACA,QAASF,EAAM,SAAW,GAC1B,KAAMA,EAAM,KACZ,KAAMA,EAAM,KACZ,cAAeA,EAAM,cACrB,MAAAxE,EACA,QAASwE,EAAM,QACf,UAAWA,EAAM,SAAA,CACnB,CACD,EACDpB,EAAc,MAAQmB,CACxB,GAEA,SAAeF,GAAc,QAAAhJ,EAAA,sBAC3B,IAAIuJ,EAAQ,CACVC,GACAC,EAAA,EAEI,KAAA,CAAC,KAAAxI,CAAQ,EAAA,MAAMyI,GAAe,CAAC,OAAQvK,EAAU,eAAA,CAAgB,EACvE,IAAIwK,EAAc,CAChB,KAAM,iBACN,KAAM1I,EAAK,KACX,MAAOqI,GAAc,SACrB,QAASrI,EAAK,OAAA,EAGhBsI,EAAM,KAAKI,CAAW,EAEtB7B,EAAS,MAAQyB,CACnB"}